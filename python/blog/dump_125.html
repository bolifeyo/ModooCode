
<center>								
<table border="0">
<tbody><tr>
<td width="336" height="280" align="center">

<script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- itguru Top -->
<ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-6608926154840997" data-ad-slot="9540252860" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:336px;background-color:transparent;"><ins id="aswift_1_anchor" style="display:block;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:336px;background-color:transparent;"><iframe width="336" height="280" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;width:336px;height:280px;"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
	
</td><td width="336" height="280" align="center">

<script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- itguru Top -->
<ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-6608926154840997" data-ad-slot="9540252860" data-adsbygoogle-status="done"><ins id="aswift_2_expand" style="display:inline-table;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:336px;background-color:transparent;"><ins id="aswift_2_anchor" style="display:block;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:336px;background-color:transparent;"><iframe width="336" height="280" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;width:336px;height:280px;"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

</td>
</tr>
</tbody></table>
</center>
<br><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;"><span style="font-size: 8pt;">이번 강좌에서는</span><br>
<ul style="list-style-type: square;">
<li><span style="font-size: 8pt;">지난 도서 관리 프로그램의 완성</span><br>
</li>
</ul>
<div>
<hr style="height: 1px; border-width: 1px 0px 0px; border-color: black; display: block;"></div>
<div class="imageblock center" style="text-align: center; clear: both;"><span data-url="https://t1.daumcdn.net/cfile/tistory/141419474D331BC506?original" data-lightbox="lightbox"><img srcset="//img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile8.uf.tistory.com%2Fimage%2F141419474D331BC506AB6C 1920w, //img1.daumcdn.net/thumb/R960x0/?fname=http%3A%2F%2Fcfile8.uf.tistory.com%2Fimage%2F141419474D331BC506AB6C 960w, //img1.daumcdn.net/thumb/R720x0/?fname=http%3A%2F%2Fcfile8.uf.tistory.com%2Fimage%2F141419474D331BC506AB6C 720w, //img1.daumcdn.net/thumb/R640x0.q70/?fname=http%3A%2F%2Fcfile8.uf.tistory.com%2Fimage%2F141419474D331BC506AB6C 640w, //img1.daumcdn.net/thumb/R480x0.q70/?fname=http%3A%2F%2Fcfile8.uf.tistory.com%2Fimage%2F141419474D331BC506AB6C 480w" src="https://t1.daumcdn.net/cfile/tistory/141419474D331BC506" style="cursor: pointer;max-width:100%;height:auto" width="730" height="548" alt="" filename="C-gods-programming-language.jpg" filemime="image/jpeg"></span></div><br>
&nbsp; 안녕하세요 여러분! 이제 슬슬 파일 입출력도 마무리를 해가며 저의 C 언어 강좌도 끝을 향해 달려갑니다. 이번 강좌에서는 파일 입출력을 이용한 여러 가지 프로그램을 만들어보면서 파일 입출력에 대해 조금 더 친해지도록 하지요 :)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp; 지난 강좌에서 여러분들과 함께 도서 관리 프로그램을 열심히 만들었었습니다. 그리고 제가 여러분들께 '생각해보기' 로 입력을 받는 형태로 바꿔보자고 이야기 했었죠. 여러분들은 모두 해보셨나요? 아직 오랜 시간 고민을 하지 안 하신 분들은 살포시 뒤로가기를 눌러주시기 바랍니다.   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"></span><div style="border: 1px solid rgb(121, 165, 228); background-color: rgb(219, 232, 251); padding: 10px;" class="txc-textbox">
<span style="font-size: 12pt;"><span style="font-size: 12pt;">/* 도서 관리 프로그램의 전체 소스 코드*/   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">#include &lt;stdio.h&gt;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">#include &lt;string.h&gt;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">#include &lt;stdlib.h&gt;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">struct BOOK   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">{   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; char book_name[30];   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; char auth_name[30];   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; char publ_name[30];   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; int borrowed;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">};   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">typedef struct BOOK BOOK;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">int register_book(BOOK *book_list, int *nth);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">int search_book(BOOK *book_list, int total_num_book);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">int borrow_book(BOOK *book_list);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">int return_book(BOOK *book_list);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">int print_book_list(BOOK *book_list, int total_num_book);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">int retrieve_book_info(BOOK **book_list, int *total_num_book);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">char compare(char *str1, char *str2);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">int main ()   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">{   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; int user_choice; /* 유저가 선택한 메뉴 */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; int num_total_book = 0; /* 현재 책의 수 */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; BOOK *book_list;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; int i;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; printf("도서관의 최대 보관 장서 수를 설정해주세요 : ");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; scanf("%d", &amp;user_choice);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; book_list = (BOOK *)malloc(sizeof(BOOK)*user_choice);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; while (1)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("도서 관리 프로그램 \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("메뉴를 선택하세요 \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("1. 책을 새로 추가하기 \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("2. 책을 검색하기 \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("3. 책을 빌리기 \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("4. 책을 반납하기 \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("5. 프로그램 종료 \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("6. 책들의 내용을 book_list.txt 에 출력 \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("7. 책들의 내용을 book_list.txt 에서 불러옴 \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("8. 책들의 목록을 출력 \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("당신의 선택은 : ");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scanf("%d", &amp;user_choice);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(user_choice == 1)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* 책을 새로 추가하는 함수 호출 */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; register_book(book_list, &amp;num_total_book);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(user_choice == 2)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* 책을 검색하는 함수 호출 */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; search_book(book_list, num_total_book);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(user_choice == 3)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* 책을 빌리는 함수 호출 */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; borrow_book(book_list);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(user_choice == 4)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* 책을 반납하는 함수 호출 */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return_book(book_list);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(user_choice == 5)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* 프로그램을 종료한다. */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(user_choice == 6)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* book_list.txt 에 책들의 목록을 출력한다*/   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; print_book_list(book_list, num_total_book);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(user_choice == 7)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* book_list.txt 에서 책들의 목록을 가져온다*/   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; retrieve_book_info(&amp;book_list, &amp;num_total_book);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(user_choice == 8)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* 책들의 목록을 화면에 출력한다. */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i = 0; i &lt; num_total_book; i++)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("%s // %s // %s // ", book_list[i].book_name, book_list[i].auth_name, book_list[i].publ_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(book_list[i].borrowed == 0)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("NO\n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("YES\n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; free(book_list);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; return 0;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">}   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">int print_book_list(BOOK *book_list, int total_num_book)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">{   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; FILE *fp = fopen("book_list.txt", "w");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; int i;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; if(fp == NULL)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("출력 오류 ! \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return -1;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; fprintf(fp, "%d\n", total_num_book);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; for(i = 0; i &lt; total_num_book; i++)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(fp, "%s\n%s\n%s\n", book_list[i].book_name, book_list[i].auth_name, book_list[i].publ_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(book_list[i].borrowed == 0)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(fp, "NO\n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(fp, "YES\n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; printf("출력 완료! \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; fclose(fp);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; return 0;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">}   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">char compare(char *str1, char *str2)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">{   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; while (*str1)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(*str1 != *str2)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; str1++;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; str2++;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; if(*str2 == '\0')   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 1;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; return 0;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">}   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">/* 포인터인 book_list 의 값을 바꿔야 하므로 더블 포인터 형태 */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">int retrieve_book_info(BOOK **book_list, int *total_num_book)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">{   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; FILE *fp = fopen("book_list.txt", "r");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; int total_book;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; int i;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; char str[10];   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; if(fp == NULL)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("지정한 파일을 찾을 수 없습니다! \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return -1;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; /* 찾았다면 전체 책의 개수를 읽어온다. */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; fscanf(fp, "%d", &amp;total_book);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; (*total_num_book) = total_book;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; /* 기존의 book_list 데이터를 삭제 */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; free(*book_list);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; /* 그리고 다시 malloc 으로 재할당 한다. */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; (*book_list) = (BOOK *)malloc(sizeof(BOOK)*total_book);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; if(*book_list == NULL)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("\n ERROR \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return -1;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; for(i=0;i&lt;total_book;i++)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* book_list[i]-&gt;book_name 이 아님에 유의!! */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fscanf(fp, "%s", (*book_list)[i].book_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fscanf(fp, "%s", (*book_list)[i].auth_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fscanf(fp, "%s", (*book_list)[i].publ_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fscanf(fp, "%s", str);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(compare(str, "YES"))   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (*book_list)[i].borrowed = 1;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(compare(str, "NO"))   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (*book_list)[i].borrowed = 0;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; fclose(fp);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; return 0;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">}   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">/* 책을 추가하는 함수*/   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">int register_book(BOOK *book_list, int *nth)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">{   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; printf("책의 이름 : ");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; scanf("%s", book_list[*nth].book_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; printf("책의 저자 : ");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; scanf("%s", book_list[*nth].auth_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; printf("책의 출판사 : ");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; scanf("%s", book_list[*nth].publ_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; book_list[*nth].borrowed = 0;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; (*nth)++;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; return 0;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">}   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">/* 책을 검색하는 함수 */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">int search_book(BOOK *book_list, int total_num_book)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">{   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; int user_input; /* 사용자의 입력을 받는다. */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; int i;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; char user_search[30];   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; printf("어느 것으로 검색 할 것인가요? \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; printf("1. 책 제목 검색 \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; printf("2. 지은이 검색 \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; printf("3. 출판사 검색 \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; scanf("%d", &amp;user_input);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; printf("검색할 단어를 입력해주세요 : ");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; scanf("%s", user_search);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; printf("검색 결과 \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; if(user_input == 1)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i 가 0 부터 num_total_book 까지 가면서 각각의 책 제목을   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 사용자가 입력한 검색어와 비교하고 있다.   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i = 0;i &lt; total_num_book; i++)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(compare(book_list[i].book_name, user_search))   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("번호 : %d // 책 이름 : %s // 지은이 : %s // 출판사 : %s \n",   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i, book_list[i].book_name, book_list[i].auth_name, book_list[i].publ_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; else if(user_input == 2)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i 가 0 부터 num_total_book 까지 가면서 각각의 지은이 이름을   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 사용자가 입력한 검색어와 비교하고 있다.   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i = 0;i &lt; total_num_book; i++)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(compare(book_list[i].auth_name, user_search))   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("번호 : %d // 책 이름 : %s // 지은이 : %s // 출판사 : %s \n",   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i, book_list[i].book_name, book_list[i].auth_name, book_list[i].publ_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; else if(user_input == 3)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i 가 0 부터 num_total_book 까지 가면서 각각의 출판사를   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 사용자가 입력한 검색어와 비교하고 있다.   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i = 0;i &lt; total_num_book; i++)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(compare(book_list[i].publ_name, user_search))   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("번호 : %d // 책 이름 : %s // 지은이 : %s // 출판사 : %s \n",   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i, book_list[i].book_name, book_list[i].auth_name, book_list[i].publ_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; return 0;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">}   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">int borrow_book(BOOK *book_list)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">{   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; /* 사용자로 부터 책번호를 받을 변수*/   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; int book_num;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; printf("빌릴 책의 번호를 말해주세요 \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; printf("책 번호 : ");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; scanf("%d", &amp;book_num);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; if(book_list[book_num].borrowed == 1)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("이미 대출된 책입니다! \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; else   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("책이 성공적으로 대출되었습니다. \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; book_list[book_num].borrowed = 1;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; return 0;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">}   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">int return_book(BOOK *book_list)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">{   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; /* 반납할 책의 번호 */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; int num_book;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; printf("반납할 책의 번호를 써주세요 \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; printf("책 번호 : ");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; scanf("%d", &amp;num_book);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; if(book_list[num_book].borrowed == 0)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("이미 반납되어 있는 상태입니다\n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; else   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; book_list[num_book].borrowed = 0;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("성공적으로 반납되었습니다\n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; return 0;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">}   </span></span></div>
<br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">성공적으로 컴파일 하였다면   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;"><div class="imageblock center" style="text-align: center; clear: both;"><span data-url="https://t1.daumcdn.net/cfile/tistory/126815394D2F31B920?original" data-lightbox="lightbox"><img srcset="//img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile25.uf.tistory.com%2Fimage%2F126815394D2F31B9209A2B 1920w, //img1.daumcdn.net/thumb/R960x0/?fname=http%3A%2F%2Fcfile25.uf.tistory.com%2Fimage%2F126815394D2F31B9209A2B 960w, //img1.daumcdn.net/thumb/R720x0/?fname=http%3A%2F%2Fcfile25.uf.tistory.com%2Fimage%2F126815394D2F31B9209A2B 720w, //img1.daumcdn.net/thumb/R640x0.q70/?fname=http%3A%2F%2Fcfile25.uf.tistory.com%2Fimage%2F126815394D2F31B9209A2B 640w, //img1.daumcdn.net/thumb/R480x0.q70/?fname=http%3A%2F%2Fcfile25.uf.tistory.com%2Fimage%2F126815394D2F31B9209A2B 480w" src="https://t1.daumcdn.net/cfile/tistory/126815394D2F31B920" style="cursor: pointer;max-width:100%;height:auto" width="&quot;677&quot;" height="&quot;442&quot;" alt="&quot;&quot;" filename="&quot;23.3.1.png&quot;" filemime="&quot;image/png&quot;"></span></div></span></span><span style="font-size: 12pt;"><span style="font-size: 12pt;">   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">와 같이 여러가지 기능들이 잘 작동함을 알 수 있습니다.   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">일단, 저는 지난번 강좌의 '생각해보기' 에서 일컫은대로 print_book_list 함수의 파일 출력 형태를 수정하였습니다.   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"></span><div style="border: 1px solid rgb(121, 165, 228); background-color: rgb(219, 232, 251); padding: 10px;" class="txc-textbox">
<span style="font-size: 12pt;"><span style="font-size: 12pt;">int print_book_list(BOOK *book_list, int total_num_book)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">{   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; FILE *fp = fopen("book_list.txt", "w");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; int i;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; if(fp == NULL)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("출력 오류 ! \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return -1;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; fprintf(fp, "%d\n", total_num_book);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; for(i = 0; i &lt; total_num_book; i++)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(fp, "%s\n%s\n%s\n", book_list[i].book_name, book_list[i].auth_name, book_list[i].publ_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(book_list[i].borrowed == 0)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(fp, "NO\n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(fp, "YES\n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; printf("출력 완료! \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; fclose(fp);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; return 0;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">}   </span></span></div>
<br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp; 일단 출력을 위해 fprintf 함수를 사용하고 있는데 문자열을 하나 출력할 때 마다 \n 을 넣어서 나중에 파일에서 입력받을 때 구분을 용이하게 하였습니다. print_book_list 함수는 상당히 간단하므로 설명은 이 정도에서 마치도록 하겠고요, 이제 가장 중요한 부분인 retrieve_book_list 함수에 대해 살펴봅시다.   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"></span><div style="border: 1px solid rgb(121, 165, 228); background-color: rgb(219, 232, 251); padding: 10px;" class="txc-textbox">
<span style="font-size: 12pt;"><span style="font-size: 12pt;">/* 포인터인 book_list 의 값을 바꿔야 하므로 더블 포인터 형태 */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">int retrieve_book_info(BOOK **book_list, int *total_num_book)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">{   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; FILE *fp = fopen("book_list.txt", "r");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; int total_book;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; int i;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; char str[10];   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; if(fp == NULL)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("지정한 파일을 찾을 수 없습니다! \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return -1;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; /* 찾았다면 전체 책의 개수를 읽어온다. */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; fscanf(fp, "%d", &amp;total_book);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; (*total_num_book) = total_book;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; /* 기존의 book_list 데이터를 삭제 */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; free(*book_list);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; /* 그리고 다시 malloc 으로 재할당 한다. */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; (*book_list) = (BOOK *)malloc(sizeof(BOOK)*total_book);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; if(*book_list == NULL)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("\n ERROR \n");   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return -1;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; for(i=0;i&lt;total_book;i++)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* book_list[i]-&gt;book_name 이 아님에 유의!! */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fscanf(fp, "%s", (*book_list)[i].book_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fscanf(fp, "%s", (*book_list)[i].auth_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fscanf(fp, "%s", (*book_list)[i].publ_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fscanf(fp, "%s", str);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(compare(str, "YES"))   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (*book_list)[i].borrowed = 1;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(compare(str, "NO"))   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (*book_list)[i].borrowed = 0;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; fclose(fp);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; return 0;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">}   </span></span></div>
<br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">이 함수를 처음에 만들때 저는 살짝 실수를 했었는데요, 그것은 바로 인자의 형태를 잘못 생각하였기 때문입니다. 일단 이 함수에서 하는 일들을 살펴보자면   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><ol style="list-style-type: decimal;">
<span style="font-size: 12pt;"><span style="font-size: 12pt;">   </span></span><li><span style="font-size: 12pt;"><span style="font-size: 12pt;">기존의 프로그램상에 저장되어 있던 book_list 정보를 없앤다. (간단히 메모리를 free 한다고 생각하시면 됩니다) </span></span></li>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">    </span></span><li><span style="font-size: 12pt;"><span style="font-size: 12pt;">파일에서 입력받은 책의 수 많큼 malloc 으로 book_list 에 할당한다. </span></span></li>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">    </span></span><li><span style="font-size: 12pt;"><span style="font-size: 12pt;">파일에 책들에 관한 데이터들을 입력받는다.      </span></span><br>
</li>
<span style="font-size: 12pt;"><span style="font-size: 12pt;"> </span></span></ol>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">으로 보실 수 있습니다. 먼저 1 번 작업을 하는 부분을 살펴봅시다.    </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">    </span></span><br>
<span style="font-size: 12pt;"></span></p>
<div style="border: 1px solid rgb(121, 165, 228); background-color: rgb(219, 232, 251); padding: 10px;" class="txc-textbox">
<span style="font-size: 12pt;"><span style="font-size: 12pt;">int retrieve_book_info(</span></span><span style="font-weight: bold;"><span style="font-size: 12pt;"><span style="font-size: 12pt;">BOOK **book_list</span></span></span><span style="font-size: 12pt;"><span style="font-size: 12pt;">, int *total_num_book)     </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">{     </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; /*&nbsp; ...(생략) ...*/     </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">    </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; /* 찾았다면 전체 책의 개수를 읽어온다. */     </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; fscanf(fp, "%d", &amp;total_book);     </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; (*total_num_book) = total_book;     </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">    </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; /* 기존의 book_list 데이터를 삭제 */     </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; free(*book_list);     </span></span></div>
<br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">    </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">함수의 인자 부분이 굵은 글씨체로 되어 있는데 아마도 여러분들 중 많은 분들이 간과했을 부분 입니다. 우리는 이 함수에서 malloc 을 통해 book_list 를 다시 할당 하면서 book_list 의 값을 바꿔야 하는데요, </span></span><span style="font-weight: bold;"><span style="font-size: 12pt;"><span style="font-size: 12pt;">이전의 저의 함수 강좌를 잘 보신 분들은 알겠지만 다른 함수에서 또다른 함수 내부에서 정의된 변수의 값을 바꾸기 위해서는 그 변수의 포인터를 인자로 전달해야 한다고 했습니다.</span></span></span><span style="font-size: 12pt;"><span style="font-size: 12pt;"> 즉, book_list 를 가리키는 포인터, 이 때 book_list 가 BOOK* 형이므로 우리는 인자를 BOOK ** 형으로 잡아야 한다는 것을 알 수 있지요.     </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">    </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">이제 인자로 book_list 를 받았다면 위와 같이 free 를 통해 메모리 공간을 반환 함으로써 이전에 저장되어 있는 책 목록 데이터를 없앨 수 있습니다.     </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">    </span></span><br>
<span style="font-size: 12pt;"></span><div style="border: 1px solid rgb(121, 165, 228); background-color: rgb(219, 232, 251); padding: 10px;" class="txc-textbox">
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; /* 그리고 다시 malloc 으로 재할당 한다. */     </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; (*book_list) = (BOOK *)malloc(sizeof(BOOK)*total_book);     </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">    </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; if(*book_list == NULL)     </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {     </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("\n ERROR \n");     </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return -1;     </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }     </span></span></div>
<br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">    </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">이제 두 번째 단계를 살펴보도록 합시다. 아까 위에서 free 함수를 통해 우리가 동적으로 할당하였던 Heap 공간에 있었던 데이터들은 날라가버렸습니다. 이제 다시 malloc 을 통해 책 목록에서 입력받는 total_book 의 크기 만큼 다시 할당 해야 겠지요? 따라서 위와 같이 malloc 함수를 통해 할당할 수 있게 됩니다.</span></span><span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;</span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">여기서 중요한 부분은 위와 같이 *book_list == NULL 을 통해 malloc 으로 메모리 할당이 제대로 이루어졌는지 확인할 수 있습니다. 이는 마치 파일 입출력에서 fp == NULL 로 검사하는 것과 비슷한 이치 입니다. </span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;</span></span></p>
<span style="font-size: 12pt;"></span><div style="border: 1px solid rgb(121, 165, 228); background-color: rgb(219, 232, 251); padding: 10px;" class="txc-textbox">
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i&lt;total_book;i++)   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* book_list[i]-&gt;book_name 이 아님에 유의!! */   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fscanf(fp, "%s", (*book_list)[i].book_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fscanf(fp, "%s", (*book_list)[i].auth_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fscanf(fp, "%s", (*book_list)[i].publ_name);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fscanf(fp, "%s", str);   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(compare(str, "YES"))   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (*book_list)[i].borrowed = 1;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(compare(str, "NO"))   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (*book_list)[i].borrowed = 0;   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }   </span></span><br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;&nbsp;&nbsp; }   </span></span></div>
<br>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;</span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">마지막으로 for 문을 통해서 파일로 부터 입력 받는 부분을 살펴봅시다. 여기서 fscanf 를 통해 문자열을 파일로 부터 입력을 받고 있는데 재미있는 부분은 book_list 의 구조체 변수들을 참조하는 과정 입니다. 왜 저렇게 어렵게 표현을 했을까요? </span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;</span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">일단 *book_list 를 통해서 원래 main 함수의 book_list 배열을 가리킬 수 있습니다. 그리고 (*book_list)[i] 를 통해 그 배열의 i 번째 원소를 가리킬 수 있지요. 이 때 그 원소는 구조체 변수 입니다. 따라서 우리는 (*book_list)[i].book_name 을 통해 main 함수의 특정 책의 책 이름에 대한 정보를 지칭할 수 있게 되지요. 이를 전개해서 표현 시켜 보면</span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;</span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"></span></p><div style="border: 1px solid rgb(121, 165, 228); background-color: rgb(219, 232, 251); padding: 10px;" class="txc-textbox">
<span style="font-size: 12pt;">(*(*book_list) + i)).book_name</span></div>
<p></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;</span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">이라 쓴 것과 동일한 표현이 됩니다. 그런데 문제는 이와 같이 포인터를 이용할 때 간혹 다음과 같이 쓰는 사람들이 있기 마련이죠.</span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;</span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"></span></p><div style="border: 1px solid rgb(121, 165, 228); background-color: rgb(219, 232, 251); padding: 10px;" class="txc-textbox">
<span style="font-size: 12pt;">book_list[i]-&gt;book_name</span></div>
<p></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;</span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">사실 저도 처음에 이렇게 썼다가 봉변을 맞았었는데 이렇게 사용하면 컴파일 시에 오류가 나지도 않고 디버깅 해도 도대체 뭐가 문제인지 알기 어렵습니다. 원래는 (*book_lsit)[i].book_name 이라고 머리 속에 생각은 하고 위와 같은 코드가 튀어 나왔지요. 그런데 이 둘은 완전히 다른 문장 입니다. 무엇이 다른지는 말그대로 전개를 시켜보면 알 수 있습니다.</span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;</span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"></span></p>
<div style="border: 1px solid rgb(121, 165, 228); background-color: rgb(219, 232, 251); padding: 10px;" class="txc-textbox">
<p><span style="font-size: 12pt;"><span style="font-size: 12pt;">(*book_list)[i].book_name == ( *( *book_list + i)).book_name</span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">book_list[i]-&gt;book_name == (&nbsp; *( *(book_list + i))).book_name</span></span></p>
</div>
<p><span style="font-size: 12pt;"></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;</span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">무엇이 다른지 확 눈에 보이시나요? 위의 식에서는 book_list 에 먼저 * 이 붙었고 아래 식에서는 book_list + i 에 먼저 * 이 붙었습니다. 우리가 원하던 내용은 book_list 에 * 이 붙어서 main 함수의 실제 book_list 를 의미한 뒤 + i 를 해서 원소를 참조하는 것이지 후자 처럼 존재하지도 않는 book_list 의 i 번째 원소를 참조하여 말도 안되는 식을 의도하는 것은 아닙니다.</span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">&nbsp;</span></span></p>
<span style="font-size: 12pt;"><span style="font-size: 12pt;">  </span></span><p><span style="font-size: 12pt;"><span style="font-size: 12pt;">아무튼 이렇게 해서 성공적으로 도서 관리 프로그램에 대한 파일 입출력을 수행 할 수 있게 됩니다. </span><br>
</span></p><div class="google-auto-placed ap_container" style="text-align: center; width: 100%; height: auto; clear: none;"><ins data-ad-format="auto" class="adsbygoogle adsbygoogle-noablate" data-ad-client="ca-pub-6608926154840997" data-adsbygoogle-status="done" style="display: block; margin: auto; background-color: transparent;"><ins id="aswift_5_expand" style="display: inline-table; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 730px; background-color: transparent;"><ins id="aswift_5_anchor" style="display: block; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 730px; background-color: transparent; overflow: hidden; opacity: 0;"><iframe width="730" height="183" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_5" name="aswift_5" style="left:0;position:absolute;top:0;width:730px;height:183px;"></iframe></ins></ins></ins></div>
<p><br>
<span style="font-size: 12pt;"></span></p>
<p><span style="font-size: 12pt;">&nbsp; 이것으로 해서 파일 입출력에 관한 강좌는 끝내도록 하겠습니다. 기타 파일 입출력에 관한 함수들에 대해 설명하는 것은 무의미한 행동이므로 파일 입출력에 관련한 함수들을 더욱 알고 싶다면<a title="[http://itguru.tistory.com/34]로 이동합니다." target="_blank" href="http://itguru.tistory.com/34"> C 언어 레퍼런스를 참조</a>하시기 바랍니다 (특히 보셔야 할 부분은 stdio.h 부분이지요).</span></p>
<p><span style="font-size: 12pt;">&nbsp; <br>
</span></p>
<p><span style="font-size: 12pt;">&nbsp; 이제 여기 까지 도달하셨다면 여러분은 C 언어에 대한 기초적인 모든 부분을 
학습하셨다고 해도 과언이 아닙니다. 여러분의 손에는 이제 훌륭한 조각칼이 들려있는 셈입니다. 이 조각칼로 여러분의 능력에 따라 멋진 조각품을 만들어 
낼 수 있듯이 C 언어라는 훌륭한 도구를 통해서 최고의 프로그램을 만들 수 있게 될 것입니다. </span></p>
<p><span style="font-size: 12pt;">&nbsp;</span></p>
<p><span style="font-size: 12pt;">&nbsp; 저의 C 언어 강좌는 이제 마지막 강좌를 남겨두고 있습니다. 사실 여기서 강좌를 끝내도 무방하고, 여러분들은 여기까지 강좌를 읽으셨다면 
축하 파티를 하셔도 됩니다! 마지막 강좌는 <span style="text-decoration: line-through;">여러분들이 실제로 프로그래밍을 하면서 여러가지 실수들을 하실 텐데 이를 대비하기 위한 오류 해결책들에 
대해 이야기 해보려고 합니다. 여러 골치 아픈 오류들을 만났을 때 꽤 도움이 많이 될 듯 합니다.</span></span><span style="font-size: 12pt;">&nbsp; 여러분들이 실제로 프로그래밍을 하면서 피가 되고 살이 될 '<span style="font-weight: bold;">코드 최적화</span>' 에
 대해서 이야기 하고자 합니다. 우리가 흔히 느끼기에 똑같은 한국말을 해도 어떤 사람은 말을 참 잘하지만 어떠한 
사람은 말을 참 못한다고 생각 하는 경우가 있습니다. C 언어도 마찬가지 입니다. 저의 C 언어 강좌는 여기서 끝났지만 C 언어 자체를 안다고 해도 모두다 훌륭한 코드를 쓸 수 있는 것은 아닙니다. 따라서 다음 
강좌에서는 여러분이 훌륭한 코드에 조금이니마 근접한 코드를 쓸 수 있도록 도와 줄 코드 최적화에 대해서 이야기 할 것입니다. <span style="text-decoration: line-through;"></span></span></p>
<p><span style="font-size: 12pt;">&nbsp;</span></p>
<p style="font-weight: bold;"><span style="font-size: 12pt;">생각해보기</span></p>
<p><span style="font-size: 12pt;">&nbsp;</span></p>
<p><span style="font-size: 12pt;">1. 책들의 목록을 html 형식에 맞게 출력하여 표로 깔끔하게 보여질 수 있게 해보세요. html 문법은 <a title="[http://www.w3schools.com/html/default.asp]로 이동합니다." target="_blank" href="http://www.w3schools.com/html/default.asp">http://www.w3schools.com/html/default.asp</a> 에서 배우실 수 있습니다. (난이도 : 上)<br>
</span></p>
<p><br>
</p>
<div>
<div style="border: 1px solid rgb(254, 137, 67); padding: 10px; background-color: rgb(254, 222, 199);" class="txc-textbox">
<span style="font-size: 11pt;"><span style="font-size: 12pt;">강좌를 보다가 조금이라도 궁금한 것이나 이상한 점이 있다면 <span style="font-weight: bold;">꼭 댓글을 남겨주시기 바랍니다</span>. 그 외에도 강좌에 관련된 것이라면 어떠한 것도 질문해 주셔도 상관 없습니다. 생각해 볼 문제도 정 모르겠다면 댓글을 달아주세요. </span></span><span style="font-size: 11pt;"><span style="font-size: 12pt;"></span></span><br>
<br>
<span style="font-size: 11pt;"><span style="font-size: 12pt;">현재 여러분이 보신 강좌는<span style="font-style: italic;">&lt;&lt;씹어먹는 C 언어 - &lt;23 - 3. 파일 하고 이야기 하기 (파일 입출력 - 마무리)&gt;&gt;&gt;</span> 입니다. 이번 강좌의 <span style="font-weight: bold;">모든 예제들의 코드를 보지 않고 짤 수준까지 강좌를 읽어 보시기 전</span>까지 다음 강좌로 넘어가지 말아주세요 </span></span><br>
<br>
<div style="text-align: right;">
<span style="font-size: 12pt;"><a style="font-weight: bold;" title="[http://itguru.tistory.com/notice/15]로 이동합니다." target="_blank" href="http://itguru.tistory.com/notice/15">다음 강좌 보러가기</a><br>
</span>
</div>
</div>
</div>
<span style="font-size: 12pt;"></span><div class="container_postbtn"><div class="postbtn_like"><div class="like_btn" data-uoc-svc="tistory" data-uoc-uid="329162_125" data-uoc-sc="" data-uoc-pcurl="http://itguru.tistory.com/125" data-uoc-fetchurl="http://api.kakao.tistory.com/like/fetch?uid=329162_125"><label class="uoc-icon"><span class="ico_postbtn ico_like"></span> <span class="txt_like uoc-text">공감</span><span class="txt_like uoc-count" style="display: none;"></span><input type="button" class="inp_btn uoc-button"></label></div><span class="ico_bar"></span><label data-thumbnail-url="http://cfile25.uf.tistory.com/image/126815394D2F31B9209A2B" data-title="씹어먹는 C 언어 - <23 - 3. 파일 하고 이야기 하기 (파일 입출력 - 마무리)>" data-description="이번 강좌에서는 지난 도서 관리 프로그램의 완성  안녕하세요 여러분! 이제 슬슬 파일 입출력도 마무리를 해가며 저의 C 언어 강좌도 끝을 향해 달려갑니다. 이번 강좌에서는 파일 입출력을 이용한 여러 가지 프.." data-profile-image="http://cfile30.uf.tistory.com/image/24672D3F58DB509F14CA8E" data-profile-name="Psi" data-pc-url="http://itguru.tistory.com/125" data-blog-title="Programming IT"><span class="ico_postbtn ico_sns">sns</span><input type="button" class="inp_btn"></label><span class="ico_bar"></span><label data-entry-id="125"><span class="ico_postbtn ico_report">신고</span><input type="button" class="inp_btn"></label></div><div class="postbtn_ccl" data-ccl-type="3"><a href="http://creativecommons.org/licenses/by/4.0/deed.ko" target="_blank" class="link_ccl"><span class="bundle_ccl"><span class="ico_postbtn ico_ccl1">저작자표시</span></span></a></div></div>    <!--
	<rdf:RDF xmlns="http://web.resource.org/cc/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
		<Work rdf:about="">
			<license rdf:resource="http://creativecommons.org/licenses/by-fr/2.0/kr/" />
		</Work>
		<License rdf:about="http://creativecommons.org/licenses/by-fr/">
			<permits rdf:resource="http://web.resource.org/cc/Reproduction"/>
			<permits rdf:resource="http://web.resource.org/cc/Distribution"/>
			<requires rdf:resource="http://web.resource.org/cc/Notice"/>
			<requires rdf:resource="http://web.resource.org/cc/Attribution"/>
			<permits rdf:resource="http://web.resource.org/cc/DerivativeWorks"/>
		</License>
	</rdf:RDF>
	--><div style="text-align:center; padding-top:10px;clear:both">
<iframe src="//www.facebook.com/plugins/like.php?href=http://itguru.tistory.com/125&amp;layout=standard&amp;show_faces=true&amp;width=310&amp;action=like&amp;font=tahoma&amp;colorscheme=light&amp;height=65" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:310px; height:65px;" allowtransparency="true"></iframe>
</div>
<div class="another_category another_category_color_gray">
<h4>'<a href="/category/C">C</a>' 카테고리의 다른 글</h4>
<table>
<tbody><tr>
<th>
<a href="/130?category=194983">초보자를 위한 C 언어 강좌 - 씹어먹는 C 언어 (완결)</a>&nbsp;&nbsp;<span>(139)</span>
</th>
<td>
2011.01.20</td>
</tr>
<tr>
<th>
<a href="/129?category=194983">씹어먹는 C 언어 - &lt;24. 더 빠르게 실행되는 코드를 위하여 (C 코드 최적화)&gt;</a>&nbsp;&nbsp;<span>(46)</span>
</th>
<td>
2011.01.18</td>
</tr>
<tr>
<th>
<a href="/125?category=194983" class="current">씹어먹는 C 언어 - &lt;23 - 3. 파일 하고 이야기 하기 (파일 입출력 - 마무리)&gt;</a>&nbsp;&nbsp;<span>(19)</span>
</th>
<td>
2011.01.17</td>
</tr>
<tr>
<th>
<a href="/123?category=194983">씹어먹는 C 언어 - &lt;23 - 2. 파일 하고 이야기 하기 (파일 입출력)&gt;</a>&nbsp;&nbsp;<span>(28)</span>
</th>
<td>
2011.01.10</td>
</tr>
<tr>
<th>
<a href="/117?category=194983">씹어먹는 C 언어 - &lt;23 - 1. 파일 하고 이야기 하기 (파일 입출력에 대한 기본적 이해)&gt;</a>&nbsp;&nbsp;<span>(34)</span>
</th>
<td>
2010.12.28</td>
</tr>
<tr>
<th>
<a href="/103?category=194983">씹어먹는 C 언어 - &lt;22. C 언어의 잡다한 키워드들 (typedef, volatile, #pragma)&gt;</a>&nbsp;&nbsp;<span>(23)</span>
</th>
<td>
2010.12.25</td>
</tr>
</tbody></table></div>
<br> <br>


					