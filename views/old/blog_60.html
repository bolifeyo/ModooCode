<p>이번 강좌에서는</p><ul><li><p> 구조체 포인터</p></li><li><p> 구조체를 인자로 받기</p></li><li><p> 구조체의 대입</p></li></ul><img class='content-img' src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile23.uf.tistory.com%2Fimage%2F147DD5274BC143036690CB' alt=''><p>  안녕하세요 여러분~ 드디어 구조체의 두번째 강의를 시작하게 되었습니다. 지금 강좌를 쓰다가 느낀 건데 제가 구조체를 배웠을 때 에는 정말로 재미있게 배웠던 것 같습니다. 일단 이전 강좌에서도 말했듯이 <code class='inline-code'>-&gt;</code> 기호가 상당히 매력적으로 다가왔는데 그것 이외에도 "struct" 라는 단어를 정말 좋아했던 것 같네요. 여러분은 안그러시나요?</p><h3><p>  구조체 포인터 연습하기</p></h3><p>일단, 이번 장의 진도를 나가기 위해선 구조체 포인터에 아주 능숙해 져야 하므로 지난번의 내용을 잠깐 복습하도록 하겠습니다.</p><pre class="chroma"><span class="cm">/* 포인터 갖고 놀기 */</span>
<span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span><span class="cp"></span><span class="k">struct</span> <span class="n">TEST</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">c</span><span class="p">;</span>
<span class="p">}</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">struct</span> <span class="n">TEST</span> <span class="n">t</span><span class="p">;</span>
  <span class="k">struct</span> <span class="n">TEST</span> <span class="o">*</span><span class="n">pt</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">t</span><span class="p">;</span>

  <span class="cm">/* pt 가 가리키는 구조체 변수의 c 멤버의 값을 0 으로 한다*/</span>
  <span class="p">(</span><span class="o">*</span><span class="n">pt</span><span class="p">)</span><span class="p">.</span><span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">t.c : %d </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">t</span><span class="p">.</span><span class="n">c</span><span class="p">)</span><span class="p">;</span>

  <span class="cm">/* pt 가 가리키는 구조체 변수의 c 멤버의 값을 1 으로 한다*/</span>
  <span class="n">pt</span><span class="o">-</span><span class="o">&gt;</span><span class="n">c</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">t.c : %d </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">t</span><span class="p">.</span><span class="n">c</span><span class="p">)</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><p>성공적으로 컴파일 했다면</p><img class='content-img' src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile9.uf.tistory.com%2Fimage%2F18181F034B7D593F6DD7A5' alt=''><p>만일 지난번의 강좌를 어렴풋이 나마 기억하고 있는 분들이라면 별로 어려운 내용은 아닐 듯 싶습니다.</p><pre class="chroma"><span class="k">struct</span> <span class="n">TEST</span> <span class="n">t</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">TEST</span> <span class="o">*</span><span class="n">pt</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">t</span><span class="p">;</span>
</pre><p>일단 "struct TEST" 형의 구조체 변수 <code class='inline-code'>t</code> 와 "struct <code class='inline-code'>TEST</code> 형을 가리키는 포인터" <code class='inline-code'>pt</code> 를 선언하였습니다. 다시 강조하지만, 우리가 <code class='inline-code'>int, char</code> 로 생각하는 것 처럼 'struct TEST' 도 우리가창조해 낸 하나의 타입이며, 이를 가리키는 포인터 역시 다른 모든 포인터와 마찬가지로 크기가 4 바이트 <a href='#footnote_60_1'>[각주:</a><code class='inline-code'>1 1</code>]<span class='font-weight-bold'><code class='inline-code'> 라는 것입니다. 즉 </code>pt<code class='inline-code'> 는절대로 구조체가 아니며</code>, pt<code class='inline-code'> 는 단순히 구조체 변수 </code>t</p><p>이 때, <code class='inline-code'>pt</code> 는 <code class='inline-code'>t</code> 의 주소값을 가지고 있으므로 <code class='inline-code'>pt</code> 는 <code class='inline-code'>t</code> 를 가리키게 됩니다.</p><pre class="chroma"><span class="p">(</span><span class="o">*</span><span class="n">pt</span><span class="p">)</span><span class="p">.</span><span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">t.c : %d </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">t</span><span class="p">.</span><span class="n">c</span><span class="p">)</span><span class="p">;</span>
</pre><p>이제, <code class='inline-code'>pt</code> 가 <code class='inline-code'>t</code> 를 가리키고 있으므로 우리는 <code class='inline-code'>pt</code> 를 가지고 <code class='inline-code'>t</code> 의 값을 마음대로 조작할 수 있게 되었습니다.</p><p>이전에 <code class='inline-code'>int *pi = &i</code> 를 한 후, <code class='inline-code'>*pi</code> 를 쓰면 <code class='inline-code'>i</code> 를 간접적으로 나타낼 수 있었듯이 <code class='inline-code'>*pt</code> 를 이용하면 <code class='inline-code'>pt</code> 가 가리키고 있는 <code class='inline-code'>struct TEST</code> 형의 변수, 즉 <code class='inline-code'>t</code> 를 나타낼 수 있게 됩니다. 따라서 (<span class='font-italic'>pt).c 를 하면 <code class='inline-code'>t</code> 의 멤버 <code class='inline-code'>c</code> 를 의미하게 되죠. 이 때, <code class='inline-code'>*pt</code> 를 괄호로 감싸주는 이유는 . 이 우선순위가 <code class='inline-code'>*</code> 보다 높기 때문에 그냥 <code class='inline-code'>*pt.c</code> 라고 쓰면 "pt 의 <code class='inline-code'>c</code> 멤버가 가리키는 것" 을 의미하게 됩니다.</p><p>아무튼 (<span class='font-italic'>pt).c <code class='inline-code'>=</code> 0; 을 통해 우리는 <code class='inline-code'>t</code> 의 <code class='inline-code'>c</code> 멤버의 값을 성공적으로 바꿀 수 있었습니다.</p><p>하지만 (<span class='font-italic'>pt).c 는 너무 쓰기 불편합니다. 항상 <code class='inline-code'>*pt</code> 를 괄호로 닫아 주어야 하는데, 괄호는 <code class='inline-code'>Shift</code> 를 누르고 키보드의 9 번과 0 번을 눌러야 하니 정말로 손가락도 아프로 불편할 따름이지요. 그래서 훌륭한 C 언어 제작자들은 새로운 편리한 연산자를 만들었습니다.</p><pre class="chroma"><span class="n">pt</span><span class="o">-</span><span class="o">&gt;</span><span class="n">c</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">t.c : %d </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">t</span><span class="p">.</span><span class="n">c</span><span class="p">)</span><span class="p">;</span>
</pre><p>바로 <code class='inline-code'>-&gt;</code> 이죠. <code class='inline-code'>-&gt;</code> 연산자의 의미는 "pt 가 가리키는 구조체 변수의 멤버" 를 의미합니다. 따라서 <code class='inline-code'>pt-&gt;c</code> 는 "pt 가 가리키는 구조체 변수, 즉 <code class='inline-code'>t</code> 의 멤버 c" 를 의미하게 됩니다. 따라서 <code class='inline-code'>pt-&gt;c =</code> 1; 을 통해 우리는 <code class='inline-code'>t</code> 의 멤버 <code class='inline-code'>c</code> 의 값을 1 로 바꿀 수 있었습니다.</p><pre class="chroma"><span class="cm">/* 헷깔림 */</span>
<span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span><span class="cp"></span><span class="k">struct</span> <span class="n">TEST</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">c</span><span class="p">;</span>
  <span class="kt">int</span> <span class="o">*</span><span class="n">pointer</span><span class="p">;</span>
<span class="p">}</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">struct</span> <span class="n">TEST</span> <span class="n">t</span><span class="p">;</span>
  <span class="k">struct</span> <span class="n">TEST</span> <span class="o">*</span><span class="n">pt</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">t</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="cm">/* t 의 멤버 pointer 는 i 를 가리키게 된다*/</span>
  <span class="n">t</span><span class="p">.</span><span class="n">pointer</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">;</span>

  <span class="cm">/* t 의 멤버 pointer 가 가리키는 변수의 값을 3 으로 만든다*/</span>
  <span class="o">*</span><span class="n">t</span><span class="p">.</span><span class="n">pointer</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">i : %d </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span><span class="p">;</span>

  <span class="cm">/*
</span><span class="cm">
</span><span class="cm">  -&gt; 가 * 보다 우선순위가 높으므로 먼저 해석하게 된다.
</span><span class="cm">  즉,
</span><span class="cm">  (pt 가 가리키는 구조체 변수의 pointer 멤버) 가 가리키는 변수의 값을 4 로
</span><span class="cm">  바꾼다. 라는 뜻이다/
</span><span class="cm">
</span><span class="cm">  */</span>
  <span class="o">*</span><span class="n">pt</span><span class="o">-</span><span class="o">&gt;</span><span class="n">pointer</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">i : %d </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><p>성공적으로 컴파일 했다면</p><img class='content-img' src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile2.uf.tistory.com%2Fimage%2F19492E144B7D5C5B2117C3' alt=''><p>아마 위 예제만 제대로 이해하신 다면 더이상 구조체 포인터 가지고 혼동하는 일은 없을 듯 합니다.먼저, <code class='inline-code'>TEST</code> 구조체의 멤버들 부터 살펴봅시다.</p><pre class="chroma"><span class="k">struct</span> <span class="n">TEST</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">c</span><span class="p">;</span>
  <span class="kt">int</span> <span class="o">*</span><span class="n">pointer</span><span class="p">;</span>
<span class="p">}</span><span class="p">;</span>
</pre><p>흠. 쟁쟁한 녀석이 나왔군요. 포인터가 있습니다. 하지만 괜찮습니다. 우리는 포인터를 잘 다루거든요.</p><pre class="chroma"><span class="k">struct</span> <span class="n">TEST</span> <span class="n">t</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">TEST</span> <span class="o">*</span><span class="n">pt</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">t</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre><p>마찬가지로 <code class='inline-code'>pt</code> 는 <code class='inline-code'>t</code> 를 가리키게 됩니다.</p><pre class="chroma"><span class="n">t</span><span class="p">.</span><span class="n">pointer</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">;</span>
</pre><p>일단, 위 문장에서 <code class='inline-code'>t</code> 의 <code class='inline-code'>pointer</code> 라는 멤버에는 <code class='inline-code'>i</code> 의 주소값이 들어갑니다. 따라서 <code class='inline-code'>pointer</code> 는 <code class='inline-code'>i</code> 를 가리키게 됩니다. 그렇다면 <code class='inline-code'>pointer</code> 를 가지고 <code class='inline-code'>i</code> 의 값을 바꾸며 놀 수 있겠죠? 바로 다음 문장을 봅시다.</p><pre class="chroma"><span class="o">*</span><span class="n">t</span><span class="p">.</span><span class="n">pointer</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre><p>흠. 우선 순위를 고려하면 . 가 <code class='inline-code'>*</code> 보다 높으므로 <code class='inline-code'>t.pointer</code> 가 먼저 해석되고 그 다음에 <code class='inline-code'>*(t.pointer)</code> 형태로 해석되게 됩니다. 따라서, <code class='inline-code'>*t.pointer</code> 를 통해 구조체 <span class='font-weight-bold'> 변수 <code class='inline-code'>t</code> 의 <code class='inline-code'>pointer</code> 멤버가 가리키는 변수를 지칭할 수 있게 됩니다.</p><pre class="chroma"><span class="o">*</span><span class="n">pt</span><span class="o">-</span><span class="o">&gt;</span><span class="n">pointer</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
</pre><p><code class='inline-code'>.</code> 과 마찬가지로 <code class='inline-code'>-&gt;</code> 도 <code class='inline-code'>*</code> 보다 우선순위가 높습니다. 즉, <code class='inline-code'>*(pt-&gt;pointer)</code> 와 <code class='inline-code'>*pt-&gt;pointer</code> 는 동일한 의미라는 것입니다. 아무튼, <code class='inline-code'>pt-&gt;pointer</code> 를 통해 "pt 가 가리키는 구조체 변수의 <code class='inline-code'>pointer</code> 멤버", 즉 <code class='inline-code'>t.pointer</code> 을 의미할 수 <code class='inline-code'>*(pt-&gt;pointer) = 4</code> 를 통해 <code class='inline-code'>pointer</code> 가 가리키는 변수의 값을 4 로 바꿀 수 있게 됩니다 . 과 마찬가지로 <code class='inline-code'>-&gt;</code> 도 <code class='inline-code'>*</code> 보다 우선순위가 높습니다. 즉, <code class='inline-code'>*(pt-&gt;pointer)</code> 와 <code class='inline-code'>*pt-&gt;pointer</code> 는 동일한 의미라는 것입니다. 아무튼, <code class='inline-code'>pt-&gt;pointer</code> 를 통해 "pt 가 가리키는 구조체 변수의 <code class='inline-code'>pointer</code> 멤버", 즉 <code class='inline-code'>t.pointer</code> 을 의미할 수 <code class='inline-code'>*(pt-&gt;pointer) = 4</code> 를 통해 <code class='inline-code'>pointer</code> 가 가리키는 변수의 값을 4 로 바꿀 수 있게 됩니다.</p><pre class="chroma"><span class="cm">/*
</span><span class="cm">
</span><span class="cm">구조체 포인터 연습
</span><span class="cm">
</span><span class="cm">*/</span>
<span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span><span class="cp"></span><span class="kt">int</span> <span class="nf">add_one</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">TEST</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">c</span><span class="p">;</span>
<span class="p">}</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">struct</span> <span class="n">TEST</span> <span class="n">t</span><span class="p">;</span>
  <span class="k">struct</span> <span class="n">TEST</span> <span class="o">*</span><span class="n">pt</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">t</span><span class="p">;</span>

  <span class="cm">/* pt 가 가리키는 구조체 변수의 c 멤버의 값을 0 으로 한다*/</span>
  <span class="n">pt</span><span class="o">-</span><span class="o">&gt;</span><span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="cm">/*
</span><span class="cm">  add_one 함수의 인자에 t 구조체 변수의 멤버 c 의 주소값을
</span><span class="cm">  전달하고 있다.
</span><span class="cm">  */</span>
  <span class="n">add_one</span><span class="p">(</span><span class="o">&amp;</span><span class="n">t</span><span class="p">.</span><span class="n">c</span><span class="p">)</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">t.c : %d </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">t</span><span class="p">.</span><span class="n">c</span><span class="p">)</span><span class="p">;</span>

  <span class="cm">/*
</span><span class="cm">  add_one 함수의 인자에 pt 가 가리키는 구조체 변수의 멤버 c
</span><span class="cm">  의 주소값을 전달하고 있다.
</span><span class="cm">
</span><span class="cm">  */</span>
  <span class="n">add_one</span><span class="p">(</span><span class="o">&amp;</span><span class="n">pt</span><span class="o">-</span><span class="o">&gt;</span><span class="n">c</span><span class="p">)</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">t.c : %d </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">t</span><span class="p">.</span><span class="n">c</span><span class="p">)</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">add_one</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">a</span><span class="p">)</span> <span class="p">{</span>
  <span class="o">*</span><span class="n">a</span> <span class="o">+</span><span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><p>성공적으로 컴파일 했다면</p><img class='content-img' src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile29.uf.tistory.com%2Fimage%2F146925104B7D5EF68E44B1' alt=''><p>이제, 마지막으로 구조체 포인터 연습을 해볼까 합니다.</p><pre class="chroma"><span class="k">struct</span> <span class="n">TEST</span> <span class="n">t</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">TEST</span> <span class="o">*</span><span class="n">pt</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">t</span><span class="p">;</span>
</pre><p>이전과 마찬가지로 <code class='inline-code'>pt</code> 는 <code class='inline-code'>t</code> 를 가리키고 있습니다.</p><pre class="chroma"><span class="n">add_one</span><span class="p">(</span><span class="o">&amp;</span><span class="n">t</span><span class="p">.</span><span class="n">c</span><span class="p">)</span><span class="p">;</span>
</pre><p>그리고 <code class='inline-code'>add_one</code> 함수에 <code class='inline-code'>t</code> 의 멤버 <code class='inline-code'>c</code> 의 주소값을 전달하였습니다. 역시 <code class='inline-code'>&</code> 보다 . 이 우선순위가 높으므로 위 식은 <code class='inline-code'>&(t.c)</code> 와 동일합니다. 아무튼, <code class='inline-code'>add_one</code> 함수에 의해 <code class='inline-code'>c</code> 의 값이 1 증가 합니다.</p><pre class="chroma"><span class="n">add_one</span><span class="p">(</span><span class="o">&amp;</span><span class="n">pt</span><span class="o">-</span><span class="o">&gt;</span><span class="n">c</span><span class="p">)</span><span class="p">;</span>
</pre><p>마찬가지로 <code class='inline-code'>-&gt;</code> 가 <code class='inline-code'>&</code> 보다 우선순위가 높습니다. 따라서, <code class='inline-code'>pt</code> 가 가리키는 구조체의 멤버 <code class='inline-code'>c</code> 의 값이 1 증가하게 됩니다.</p><p>이해가 잘 되시죠?</p><h3><p> 구조체의 대입</p></h3><p><span class='font-weight-bold'> 구조체의 복사라 하면 무언가 거창할 것 같지만 사실은 상당히 단순한 내용입니다.</p><p>바로, 구조체도 보통의 변수들과 같이 <code class='inline-code'>=</code> 를 사용할 수 있다는 것이지요. (= 가 대입 연산자 라는 사실은 기억하시죠??)</p><pre class="chroma"><span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span><span class="cp"></span><span class="k">struct</span> <span class="n">TEST</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">c</span><span class="p">;</span>
<span class="p">}</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">struct</span> <span class="n">TEST</span> <span class="n">st</span><span class="p">,</span> <span class="n">st2</span><span class="p">;</span>

  <span class="n">st</span><span class="p">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">st</span><span class="p">.</span><span class="n">c</span> <span class="o">=</span> <span class="sa"></span><span class="sc">&#39;</span><span class="sc">c</span><span class="sc">&#39;</span><span class="p">;</span>

  <span class="n">st2</span> <span class="o">=</span> <span class="n">st</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">st2.i : %d </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">st2</span><span class="p">.</span><span class="n">i</span><span class="p">)</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">st2.c : %c </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">st2</span><span class="p">.</span><span class="n">c</span><span class="p">)</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><p>  성공적으로 컴파일 했다면</p><img class='content-img' src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile23.uf.tistory.com%2Fimage%2F203B51194B815A09E19D54' alt=''><p>여러분은 아마도 위 소스 코드를 한눈에 이해하셨을 수 있을 것입니다.</p><pre class="chroma"><span class="k">struct</span> <span class="n">TEST</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">c</span><span class="p">;</span>
<span class="p">}</span><span class="p">;</span>
</pre><p>멤버가 <code class='inline-code'>i</code> 와 <code class='inline-code'>c</code> 인 <code class='inline-code'>struct TEST</code> 를 정의하였고, 이 구조체의 변수인</p><pre class="chroma"><span class="k">struct</span> <span class="n">TEST</span> <span class="n">st</span><span class="p">,</span> <span class="n">st2</span><span class="p">;</span>
</pre><p><code class='inline-code'>st</code> 와 <code class='inline-code'>st2</code> 를 정의하였습니다. 그리고 <code class='inline-code'>st</code> 의 각 멤버에</p><pre class="chroma"><span class="n">st</span><span class="p">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">st</span><span class="p">.</span><span class="n">c</span> <span class="o">=</span> <span class="sa"></span><span class="sc">&#39;</span><span class="sc">c</span><span class="sc">&#39;</span><span class="p">;</span>
</pre><p>를 넣였죠.</p><pre class="chroma"><span class="n">st2</span> <span class="o">=</span> <span class="n">st</span><span class="p">;</span>
</pre><p>그리고 우리는 위와 같이 <code class='inline-code'>st</code> 를 <code class='inline-code'>st2</code> 에 대입하였습니다. 우리가 변수 <code class='inline-code'>i</code> 를 <code class='inline-code'>j</code> 에 대입하면 <code class='inline-code'>i</code> 의 값이 <code class='inline-code'>j</code> 에 그대로 복사되듯이, <code class='inline-code'>st2</code> 의 멤버 <code class='inline-code'>i</code> 의 값은 <code class='inline-code'>st</code> 의 멤버 <code class='inline-code'>i</code> 의 값과 같아지고, <code class='inline-code'>st2</code> 의 멤버 <code class='inline-code'>c</code> 의 값은 <code class='inline-code'>st</code> 의 멤버 <code class='inline-code'>c</code> 의 값과 동일해졌습니다. 이는 상당히 합리적이고 대입 연산자의 역할을 잘 해내는 것 같네요.</p><pre class="chroma"><span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span><span class="cp"></span><span class="kt">char</span> <span class="nf">copy_str</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">dest</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">src</span><span class="p">)</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">TEST</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">str</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="p">;</span>
<span class="p">}</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">struct</span> <span class="n">TEST</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>

  <span class="n">b</span><span class="p">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
  <span class="n">copy_str</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">str</span><span class="p">,</span> <span class="sa"></span><span class="s">&#34;</span><span class="s">hello, world</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>

  <span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">a.str : %s </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">a</span><span class="p">.</span><span class="n">str</span><span class="p">)</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">a.i : %d </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">a</span><span class="p">.</span><span class="n">i</span><span class="p">)</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">char</span> <span class="nf">copy_str</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">dest</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">src</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">while</span> <span class="p">(</span><span class="o">*</span><span class="n">src</span><span class="p">)</span> <span class="p">{</span>
    <span class="o">*</span><span class="n">dest</span> <span class="o">=</span> <span class="o">*</span><span class="n">src</span><span class="p">;</span>
    <span class="n">src</span><span class="o">+</span><span class="o">+</span><span class="p">;</span>
    <span class="n">dest</span><span class="o">+</span><span class="o">+</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="o">*</span><span class="n">dest</span> <span class="o">=</span> <span class="sa"></span><span class="sc">&#39;</span><span class="sc">\0</span><span class="sc">&#39;</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre><p>성공적으로 컴파일 했다면</p><img class='content-img' src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile26.uf.tistory.com%2Fimage%2F1433CC154B83C9B880ADCB' alt=''><p>위 코드 역시 구조체의 대입이 무엇인지 잘 이해만 했다면 별 무리 없이 이해하실 수 있으리라 생각 합니다.</p><pre class="chroma"><span class="k">struct</span> <span class="n">TEST</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">str</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="p">;</span>
<span class="p">}</span><span class="p">;</span>
</pre><p>위와 같이 <code class='inline-code'>struct TEST</code> 를 정의하였습니다. 이번에는 <code class='inline-code'>int i</code> 와 <code class='inline-code'>char str[20]</code> 을 멤버로 가지고 있습니다.</p><pre class="chroma"><span class="k">struct</span> <span class="n">TEST</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>

<span class="n">b</span><span class="p">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="n">copy_str</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">str</span><span class="p">,</span> <span class="sa"></span><span class="s">&#34;</span><span class="s">hello, world</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
</pre><p>이제 구조체를 정의한 뒤, 위와 같이 각각의 멤버를 초기화 합니다. <code class='inline-code'>copy_str</code> 함수는 <a href='http://itguru.tistory.com/33'>15 - 3 강</a>에서 만들어본 함수죠?</p><pre class="chroma"><span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
</pre><p>그리고 우리는 위와 같이 <code class='inline-code'>b</code> 구조체를 <code class='inline-code'>a</code> 구조체에 대입하였습니다. 따라서, <code class='inline-code'>b</code> 구조체의 모든 멤버의 데이터가 <code class='inline-code'>a</code> 구조체에 일대일로 대응이 되어 값이 복사됩니다. 즉, <code class='inline-code'>i</code> 는 <code class='inline-code'>i</code> 끼리, <code class='inline-code'>str</code> 은 <code class='inline-code'>str</code> 의 각 원소 끼리 쭈르륵 복사가 됩니다. 결과적으로 각각의 멤버의 값을 출력해 보면 동일하게 나옵니다.</p><h3><p> 구조체를 인자로 전달하기</p></h3><pre class="chroma">
<span class="cm">/*구조체를 인자로 전달하기 */</span> <span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;stdio.h&gt; struct TEST {</span><span class="cp">
</span><span class="cp"></span>  <span class="kt">int</span> <span class="n">age</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">gender</span><span class="p">;</span>
<span class="p">}</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">set_human</span><span class="p">(</span><span class="k">struct</span> <span class="n">TEST</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span><span class="p">,</span> <span class="kt">int</span> <span class="n">gender</span><span class="p">)</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">struct</span> <span class="n">TEST</span> <span class="n">human</span><span class="p">;</span>
  <span class="n">set_human</span><span class="p">(</span><span class="n">human</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">AGE : %d // Gender : %d </span><span class="s">&#34;</span><span class="p">,</span> <span class="n">human</span><span class="p">.</span><span class="n">age</span><span class="p">,</span> <span class="n">human</span><span class="p">.</span><span class="n">gender</span><span class="p">)</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">set_human</span><span class="p">(</span><span class="k">struct</span> <span class="n">TEST</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span><span class="p">,</span> <span class="kt">int</span> <span class="n">gender</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">a</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
  <span class="n">a</span><span class="p">.</span><span class="n">gender</span> <span class="o">=</span> <span class="n">gender</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><p>  성공적으로 컴파일 하였다면 다음과 같은 오류를 만날 수 있으셨을 것입니다.</p><img class='content-img' src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile21.uf.tistory.com%2Fimage%2F18631B174BAEA99F7C78E4' alt=''><p>허걱. 오래간만에 만나는 오류이군요. 오류의 내용을 보자 하니, <code class='inline-code'>human</code> 이라는 구조체 변수가 값이 초기화되지 않은 채 사용되었다고 하네요. 일단 소스 부터 살펴보도록 합시다.</p><pre class="chroma"><span class="k">struct</span> <span class="n">TEST</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">age</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">gender</span><span class="p">;</span>
<span class="p">}</span><span class="p">;</span>
</pre><p>일단 우리는 위와 같이 <code class='inline-code'>TEST</code> 구조체를 정의하였습니다. 그리고</p><pre class="chroma"><span class="kt">int</span> <span class="nf">set_human</span><span class="p">(</span><span class="k">struct</span> <span class="n">TEST</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span><span class="p">,</span> <span class="kt">int</span> <span class="n">gender</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">a</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
  <span class="n">a</span><span class="p">.</span><span class="n">gender</span> <span class="o">=</span> <span class="n">gender</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><p><code class='inline-code'>set_human</code> 이라는 함수를 만들어서 <code class='inline-code'>TEST</code> 구조체 변수들을 초기화 하도록 했습니다. 따라서,</p><pre class="chroma"><span class="n">set_human</span><span class="p">(</span><span class="n">human</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="p">;</span>
</pre><p>와 같이 한다면 <code class='inline-code'>human</code> 의 <code class='inline-code'>age</code> 와 <code class='inline-code'>gender</code> 멤버들이 초기화 될 것 처럼보이지요<code class='inline-code'>.</code> 하지만 그렇지 않습니다. 왜냐구요? 아마 여태까지 강좌를 잘 따라오셨더라면 한 번에 짐작하실 수 있으실 텐데 말이죠. 바로 제 . 하지만 그렇지 않습니다. 왜냐구요? 아마 여태까지 강좌를 잘 따라오셨더라면 한 번에 짐작하실 수 있으실 텐데 말이죠. 바로 제가 <a href='http://itguru.tistory.com/27'>13 - 2 강</a>에서 말한 규칙, "특정한 변수의 값을 다른 함수를 통해 바꾸려면 변수의 주소값을 전달해야 한다" 라는 룰을 지키지 않았기 때문입니다. 다시 말해 위 경우에서 <code class='inline-code'>a.age =</code> age; 를 했을 때 <code class='inline-code'>age</code> 의 값이 바뀌는 것은 실제 <code class='inline-code'>main</code> 함수에서의 <code class='inline-code'>human</code> 이 아니라 <code class='inline-code'>set_human</code> 함수의 <code class='inline-code'>a</code> 라는 <code class='inline-code'>human</code> 과 별개의 구조체변수의 <code class='inline-code'>age</code> 멤버의 값이 바뀌게 되는 것이지요.</p><p>따라서 실제 <code class='inline-code'>human</code> 구조체변수의 멤버들은 전혀 초기화 되지 않은 채 출력이 실행되어 오류가 발생했습니다.</p><p>이를 해결하기 위해서는 역시 <code class='inline-code'>human</code> 구조체 변수의 주소값을 인자로 받는 함수를 만들어야 할 것입니다.</p><pre class="chroma"><span class="cm">/* 인자로 제대로 전달하기 */</span>
<span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span><span class="cp"></span><span class="k">struct</span> <span class="n">TEST</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">age</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">gender</span><span class="p">;</span>
<span class="p">}</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">set_human</span><span class="p">(</span><span class="k">struct</span> <span class="n">TEST</span> <span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span><span class="p">,</span> <span class="kt">int</span> <span class="n">gender</span><span class="p">)</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">struct</span> <span class="n">TEST</span> <span class="n">human</span><span class="p">;</span>

  <span class="n">set_human</span><span class="p">(</span><span class="o">&amp;</span><span class="n">human</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">AGE : %d // Gender : %d </span><span class="s">&#34;</span><span class="p">,</span> <span class="n">human</span><span class="p">.</span><span class="n">age</span><span class="p">,</span> <span class="n">human</span><span class="p">.</span><span class="n">gender</span><span class="p">)</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">set_human</span><span class="p">(</span><span class="k">struct</span> <span class="n">TEST</span> <span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span><span class="p">,</span> <span class="kt">int</span> <span class="n">gender</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">a</span><span class="o">-</span><span class="o">&gt;</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
  <span class="n">a</span><span class="o">-</span><span class="o">&gt;</span><span class="n">gender</span> <span class="o">=</span> <span class="n">gender</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><p>성공적으로 컴파일 했다면</p><img class='content-img' src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile9.uf.tistory.com%2Fimage%2F1848DC1B4BAEB19D56553A' alt=''><p>위와 같이 <code class='inline-code'>human</code> 구조체 변수의 멤버의 값들이 제대로 변경되었음을 알 수 있습니다.</p><pre class="chroma"><span class="kt">int</span> <span class="nf">set_human</span><span class="p">(</span><span class="k">struct</span> <span class="n">TEST</span> <span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span><span class="p">,</span> <span class="kt">int</span> <span class="n">gender</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">a</span><span class="o">-</span><span class="o">&gt;</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
  <span class="n">a</span><span class="o">-</span><span class="o">&gt;</span><span class="n">gender</span> <span class="o">=</span> <span class="n">gender</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><p>위 <code class='inline-code'>set_human</code> 함수는 이전 예제에서의 <code class='inline-code'>set_human</code> 함수와는 다르게 구조체의 포인터를 인자로 취하고 있습니다. 그렇기 때문에 <code class='inline-code'>set_human</code> 함수를 호출할 때 에서도</p><pre class="chroma"><span class="n">set_human</span><span class="p">(</span><span class="o">&amp;</span><span class="n">human</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="p">;</span>
</pre><p>위와 같이 <code class='inline-code'>human</code> 의 주소값을 인자로 전달하고 있었죠. 따라서, <code class='inline-code'>a</code> 는 <code class='inline-code'>human</code> 을 가리키게 됩니다. (역시 주의할 점은 <code class='inline-code'>a</code> 는 절대로 구조체 변수가 아니라는 것이죠. 단순히 <code class='inline-code'>human</code> 구조체 변수가 메모리 상에 위치한 곳의 시작 지점의 주소값을 보관하고 있을 뿐입니다) 아무튼 위와 같이 전달한다면 이제 <code class='inline-code'>a-&gt;</code> 를 통해 <code class='inline-code'>a</code> 가 가리키고 있는 구조체 변수의 멤버, 즉 위의 경우에서는 <code class='inline-code'>human</code> 의 멤버를 지칭할 수 있게 됩니다. 따라서 <code class='inline-code'>a-&gt;age =</code> age; 를 하게 되면 <code class='inline-code'>human</code> 의 <code class='inline-code'>age</code> 멤버의 값이 바뀌게 되는 것입니다.</p><p>물론 주의할 점은 "a->age" 와 "age" 는 다르다는 것이죠. "a->age" 는 "human 구조체 변수의 <code class='inline-code'>int</code> 형 멤버 age" 를 지칭하는 것이고, "age" 는 단순히 <code class='inline-code'>set_human</code> 함수에서 인자로 받아들여진 <code class='inline-code'>int</code> 형의 <code class='inline-code'>age</code> 라는 변수를 가리키는 말입니다. 이 둘은 다른 것이고 실제로 컴퓨터 내부에서도 다르게 처리됩니다.</p><p>아무튼 위와 같이 제대로 값이 바뀌어서 출력됨을 알 수 있습니다.</p><pre class="chroma"><span class="cm">/* 살짝 업그레이드*/</span>
<span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span><span class="cp"></span><span class="k">struct</span> <span class="n">TEST</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">age</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">gender</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">name</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="p">;</span>
<span class="p">}</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">set_human</span><span class="p">(</span><span class="k">struct</span> <span class="n">TEST</span> <span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span><span class="p">,</span> <span class="kt">int</span> <span class="n">gender</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">)</span><span class="p">;</span>
<span class="kt">char</span> <span class="nf">copy_str</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">dest</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">src</span><span class="p">)</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">struct</span> <span class="n">TEST</span> <span class="n">human</span><span class="p">;</span>

  <span class="n">set_human</span><span class="p">(</span><span class="o">&amp;</span><span class="n">human</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="sa"></span><span class="s">&#34;</span><span class="s">Lee</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">AGE : %d // Gender : %d // Name : %s </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">human</span><span class="p">.</span><span class="n">age</span><span class="p">,</span> <span class="n">human</span><span class="p">.</span><span class="n">gender</span><span class="p">,</span>
         <span class="n">human</span><span class="p">.</span><span class="n">name</span><span class="p">)</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">set_human</span><span class="p">(</span><span class="k">struct</span> <span class="n">TEST</span> <span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span><span class="p">,</span> <span class="kt">int</span> <span class="n">gender</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">a</span><span class="o">-</span><span class="o">&gt;</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
  <span class="n">a</span><span class="o">-</span><span class="o">&gt;</span><span class="n">gender</span> <span class="o">=</span> <span class="n">gender</span><span class="p">;</span>
  <span class="n">copy_str</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="o">&gt;</span><span class="n">name</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">char</span> <span class="nf">copy_str</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">dest</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">src</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">while</span> <span class="p">(</span><span class="o">*</span><span class="n">src</span><span class="p">)</span> <span class="p">{</span>
    <span class="o">*</span><span class="n">dest</span> <span class="o">=</span> <span class="o">*</span><span class="n">src</span><span class="p">;</span>
    <span class="n">src</span><span class="o">+</span><span class="o">+</span><span class="p">;</span>
    <span class="n">dest</span><span class="o">+</span><span class="o">+</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="o">*</span><span class="n">dest</span> <span class="o">=</span> <span class="sa"></span><span class="sc">&#39;</span><span class="sc">\0</span><span class="sc">&#39;</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre><p>성공적으로 컴파일 했다면</p><img class='content-img' src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile8.uf.tistory.com%2Fimage%2F125F3F264BAEB62683A187' alt=''><p>기본적으로 이전의 예제와는 동일하지만 멤버를 하나 더 추가했습니다.</p><pre class="chroma"><span class="k">struct</span> <span class="n">TEST</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">age</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">gender</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">name</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="p">;</span>
<span class="p">}</span><span class="p">;</span>
</pre><p>위와 같이 <code class='inline-code'>name[20]</code> 이라는 멤버를 새로 추가해주었습니다.</p><pre class="chroma"><span class="kt">int</span> <span class="nf">set_human</span><span class="p">(</span><span class="k">struct</span> <span class="n">TEST</span> <span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span><span class="p">,</span> <span class="kt">int</span> <span class="n">gender</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">)</span><span class="p">;</span>
</pre><p>그리고 <code class='inline-code'>set_human</code> 함수에서 <code class='inline-code'>name</code> 멤버 역시 같이 초기화해주기 위해 인자로 <code class='inline-code'>char *</code> 형의 <code class='inline-code'>name</code> 이라는 인자를 추가로 받게 됩니다.</p><pre class="chroma"><span class="n">set_human</span><span class="p">(</span><span class="o">&amp;</span><span class="n">human</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="sa"></span><span class="s">&#34;</span><span class="s">Lee</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
</pre><p>이제 <code class='inline-code'>TEST</code> 구조체 변수인 <code class='inline-code'>human</code> 을 초기화 하기 위해서 <code class='inline-code'>set_human</code> 함수를 호출하였습니다.</p><pre class="chroma"><span class="kt">int</span> <span class="nf">set_human</span><span class="p">(</span><span class="k">struct</span> <span class="n">TEST</span> <span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span><span class="p">,</span> <span class="kt">int</span> <span class="n">gender</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">a</span><span class="o">-</span><span class="o">&gt;</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
  <span class="n">a</span><span class="o">-</span><span class="o">&gt;</span><span class="n">gender</span> <span class="o">=</span> <span class="n">gender</span><span class="p">;</span>
  <span class="n">copy_str</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="o">&gt;</span><span class="n">name</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><p>위 함수는 <code class='inline-code'>a</code> 가 가리키는 구조체 변수의 각 멤버들을 초기화 하게 됩니다. 이 때, <code class='inline-code'>main</code> 함수의 <code class='inline-code'>human</code> 구초제 변수의 <code class='inline-code'>name</code> 멤버를 초기화 하기 위해서는 <code class='inline-code'>copy_str</code> 함수를 이용해야 합니다. 이를 위해서는 <code class='inline-code'>name</code> 배열의 주소값과, 복사해 넣으려는 문자열의 주소값을 넣어야 하는데 <code class='inline-code'>a-&gt;name</code> 을 통해 <code class='inline-code'>human</code> 구조체 변수의 <code class='inline-code'>name</code> 멤버의 주소값과, <code class='inline-code'>name</code> (이는 두 번째 인자로 <code class='inline-code'>a-&gt;name</code> 과 전혀 다른 것이다) 을 통해 복사해 넣으려는 문자열의 주소값을 <code class='inline-code'>copy_str</code> 에 전달할 수 있게 됩니다. 아무튼, 위를 통해 성공적으로 <code class='inline-code'>human</code> 의 각각의 멤버들을 초기화 할 수 있게 되었죠.자, 그럼 이번 강좌는 여기서 마치도록 하겠습니다. 아무래도 이번 강좌를 통해 구조체에 대한 확실한 자신감이 생겼으면 하네요. 다음 강좌에서는 구조체에 대해서 조금 더 살펴보고 실습을 해보던지, 아니면 새로운 C 의 기능들에 대해 탐구해 보도록 하죠. (아마 여기까지 도달하신 여러분들은 C 의 모든 고비를 넘겼다고 하셔도 무방합니다. 이제 모든 것이 술술 풀리게 될 것입니다 <code class='inline-code'>~ )</code></p><p>생각해보기</p><p><code class='inline-code'>1.</code> (이전에 만든)도서 관리 프로그램을만들되,구조체를 이용해 봅시다. 또한 <code class='inline-code'>register_book</code> 과 같은 함수를 이용하여 책을 등록해봅시다. (난이도 : 下)</p><p><code class='inline-code'>2. </code> 큰 수를 다루는 구조체를 생각해봅시다. 그 구조체의 이름은 <code class='inline-code'> BigNum</code> 입니다. <code class='inline-code'>BigNum</code> 구조체에는 다음과 같은 멤버들이 있을 수 있습니다.</p><pre class="chroma"><span class="k">struct</span> <span class="n">BigNum</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">i_digit</span><span class="p">[</span><span class="mi">100</span><span class="p">]</span><span class="p">;</span>   <span class="c1">// 정수 부분
</span><span class="c1"></span>  <span class="kt">int</span> <span class="n">d_digit</span><span class="p">[</span><span class="mi">100</span><span class="p">]</span><span class="p">;</span>   <span class="c1">// 소수 부분
</span><span class="c1"></span>  <span class="kt">int</span> <span class="n">i_total_digit</span><span class="p">;</span>  <span class="c1">// 전체 사용되고 있는 정수부분 자리수
</span><span class="c1"></span>  <span class="kt">int</span> <span class="n">d_total_digit</span><span class="p">;</span>  <span class="c1">// 전체 사용되고 있는 소수부분 자리수
</span><span class="c1"></span>  <span class="kt">char</span> <span class="n">sign</span><span class="p">;</span>  <span class="c1">// 부호, 0 이면 양수, 1 이면 음수. 0 은 양수로 간주한다.
</span><span class="c1"></span><span class="p">}</span><span class="p">;</span>
</pre><p>(a) 이 때, <code class='inline-code'>BigNum</code> 구조체의 변수들의 덧셈, 뺄셈을 수행하는 함수를 작성해보세요 (난이도 : 中上)(b) <code class='inline-code'>BigNum</code> 구조체 변수들의 곱셈을 수행하는 함수를 만들어보세요 (난이도 : 上)(c) <code class='inline-code'>BigNum</code> 구조체 변수들의 나눗셈을 수행하는 함수를 만들어보세요 (난이도 : 最上)참고로 <code class='inline-code'>BigNum</code> 구조체를 다룰 때 중요한 점은 수의 크기가 위 배열에 들어가지 않을 정도로 클 때를 적절히 처리해 주어야 한다는 점에 있습니다.</p><pre class='warning'>강좌를 보다가 조금이라도 궁금한 것이나 이상한 점이 있다면꼭 댓글을 남겨주시기 바랍니다. 그 외에도 강좌에 관련된 것이라면 어떠한 것도 질문해 주셔도 상관 없습니다. 생각해 볼 문제도 정 모르겠다면 댓글을 달아주세요.

현재 여러분이 보신 강좌는<<씹어먹는 C 언어 - <16 - 2. 모아 모아 구조체(struct) - 구조체 인자로 가진 함수>>입니다. 이번 강좌의모든 예제들의 코드를 보지 않고 짤 수준까지 강좌를 읽어 보시기 전까지 다음 강좌로 넘어가지 말아주세요


[다음 강좌 보러가기](http://itguru.tistory.com/notice/15)
</pre><ol><li><p> 역시, 여기에 태클은 금물입니다.[[본문으로]](#footnote<span class='font-italic'>link</span>60<span class='font-italic'>1)</p></li></ol>