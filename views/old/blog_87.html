<p>이번 강좌에서는</p><ul><li><p> 모듈화 프로그래밍 (파일 나누기)</p></li><li><p> #include 전처리기에 대한 이해</p></li></ul><img src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile4.uf.tistory.com%2Fimage%2F194C3F154C4076333A0245' alt=''><p>안녕하세요 여러분. 저도 강좌를 쓰는 것이 참으로 오래간만 입니다. 현재 저는 강좌를 모두 모두 모아 하나의 <code class='inline-code'>pdf</code> 파일로 만드려고 노력중입니다. 이를 위해 <code class='inline-code'>Latex</code> 를 사용하고 있는데 한국 <code class='inline-code'>Latex</code> 커뮤니티 (KTUG) 분들께서 훌륭하게 만들어주신 <code class='inline-code'>kotex</code> 덕분에 수월하게 파일 제작이 가능합니다. 아무튼 감사하다는 말씀을 드리며 강좌를 시작해 나가보도록 하겠습니다.</p><p>현재까지 여러분은 모든 소스 코드를 하나의 소스 파일에서 작성하였습니다. 사실 이는 큰 문제가 아니였습니다. 왜냐하면 우리가 여태 까지 만들었던 프로그램의 총 소스 길이는 그다지 길지 않았고 또 나 혼자 만들기 때문에 하나의 파일에 모조리 작성해도 상관이 없었습니다. 하지만 여러분이 프로그래머가 되어서 회사에서 프로그래밍을 한다면 소스의 길이도 수천~ 수만줄에 이르고, 여러 사람들이 만들기 때문에 파일을 여러개로 나누어야 할 필요성이 있습니다. 물론 파일을 나눌 때 에는 비슷한 작업을 하는 것 끼리 나누는 것이 좋겠죠.</p><pre class="chroma"><span class="cm">/* 평범한 문장 */</span>
<span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span><span class="cp"></span><span class="kt">char</span> <span class="nf">compare</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str1</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str2</span><span class="p">)</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">char</span> <span class="n">str1</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">str2</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="p">;</span>

  <span class="n">scanf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%s</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">)</span><span class="p">;</span>
  <span class="n">scanf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%s</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">str2</span><span class="p">)</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">compare</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">)</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%s 와 %s 는 같은 문장 입니다. </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">)</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%s 와 %s 는 다른 문장 입니다. </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">)</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">char</span> <span class="nf">compare</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str1</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str2</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">while</span> <span class="p">(</span><span class="o">*</span><span class="n">str1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">str1</span> <span class="o">!</span><span class="o">=</span> <span class="o">*</span><span class="n">str2</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">str1</span><span class="o">+</span><span class="o">+</span><span class="p">;</span>
    <span class="n">str2</span><span class="o">+</span><span class="o">+</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">str2</span> <span class="o">=</span><span class="o">=</span> <span class="sa"></span><span class="sc">&#39;</span><span class="sc">\0</span><span class="sc">&#39;</span><span class="p">)</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><p>성공적으로 컴파일 하였다면</p><img src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile1.uf.tistory.com%2Fimage%2F130E31144C40527F9208AF' alt='""'><p>와 같이 나옵니다.</p><p>만일 같은 두 문장을 사용하였다면 같다는 메세지가 뜨겠지요. 위 소스 코드는 아주아주 쉬운 내용으로 여태까지 내용을 잘 이수하였다면 잘 이해하실 수 있을 것입니다. 다만,</p><pre class="chroma"><span class="k">if</span> <span class="p">(</span><span class="n">compare</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">)</span><span class="p">)</span> 
</pre><p>이 부분에서 살짝 갸우뚱 하시는 분들이 있으실 텐데 우리가 만든 <code class='inline-code'>compare</code> 함수는 두 문자열이 같으면 <code class='inline-code'>1,</code> 다르면 0 을 리턴합니다. 그런데 <code class='inline-code'>if</code> 문의 경우 괄호 안의 값이 0 이면 '거짓' 으로, 0 이 아니면 '참' 으로 판단하기 때문에 (이는 이전 강좌에서 이야기 했던 바 입니다. 기억이 안나면 <a href='http://itguru.tistory.com/10'>http://itguru.tistory.com/10</a><span class='font-weight-bold'> 를 보세요) 우리가 원하는 결과를 얻을 수 있었던 것이지요.</p><p>그렇다면 이번에는 이 강좌의 주제에 맞게 파일을 분할해봅시다. <code class='inline-code'>compare</code> 함수는 상당히 다른 일을 하고 있기 때문에 굳이 <code class='inline-code'>main</code> 함수와 같은 파일에 둘 필요가 없습니다. 따라서 다른 파일에 만들어 보겠습니다.</p><h3><p>  파일 나누기</p></h3><img src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile8.uf.tistory.com%2Fimage%2F190193344C4053CBBD99BB' alt='""'><p>먼저 위의 그림과 같이 오른쪽 파일 목록이 나와 있는 부분에서 '소스 파일' 폴더를 클릭한 후 마우스 오른쪽 클릭을 한 후, '새 항목' 을 위와 같이 누릅니다.</p><img src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile26.uf.tistory.com%2Fimage%2F172A08344C4053CC2CB431' alt='""'><p>그러면 위와 같이 새 항목을 추가할 수 있는 화면이 뜨는데 우리는 'C++ 파일(.cpp)' 을 선택하고, 이름에 <code class='inline-code'>str</code> 을 적습니다. <code class='inline-code'>str</code> 을 적은 이유는 우리가 만든 <code class='inline-code'>compare</code> 함수는 문자열을 처리하므로 이에 맞게 <code class='inline-code'>str</code> 이라는 이름을 붙여 주었습니다.</p><img src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile24.uf.tistory.com%2Fimage%2F160643374C40544BC789F8' alt='""'><p>하지만 우리가 하려는 것이 C 언어 이지 C++ 이 아니므로 파일 이름을 <code class='inline-code'>str.c</code> 로 변경해줍니다. 이는 파일을 클릭한 후 <code class='inline-code'>F2</code> 를 누르면 파일이름을 변경할 수 있습니다. (또는 마우스 오른쪽 클릭 후 이름 바꾸기를 누른다)</p><img src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile27.uf.tistory.com%2Fimage%2F112028344C4053CC733B8F' alt='""'><p>이제, <code class='inline-code'>test.c</code> (저의 기존 소스를 보관했던 파일 명 입니다. 여러분의 경우 다를 수 있습니다. <code class='inline-code'>)</code> 에 쓰여 있던 기존의 <code class='inline-code'>compare</code> 함수 소스를 잘라옵니다. 즉, <code class='inline-code'>test.c</code> 에 있던 <code class='inline-code'>compare</code> 함수 소스는 사라지고 <code class='inline-code'>str.c</code> 에 <code class='inline-code'>compare</code> 함수 소스를 넣는 것입니다.</p><p>위 작업이 끝나게 된다면 각 파일에는 다음과 같이 소스가 들어가 있을 것입니다.</p><pre class="chroma"><span class="cm">/*
</span><span class="cm">test.c
</span><span class="cm">여러분과 파일 이름은 다를 수 있습니다.
</span><span class="cm">*/</span>
<span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span><span class="cp"></span><span class="kt">char</span> <span class="nf">compare</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str1</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str2</span><span class="p">)</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">char</span> <span class="n">str1</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">str2</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="p">;</span>

  <span class="n">scanf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%s</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">)</span><span class="p">;</span>
  <span class="n">scanf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%s</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">str2</span><span class="p">)</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">compare</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">)</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%s 와 %s 는 같은 문장 입니다. </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">)</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%s 와 %s 는 다른 문장 입니다. </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">)</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><pre class="chroma"><span class="cm">/*
</span><span class="cm">str.c
</span><span class="cm">*/</span>

<span class="kt">char</span> <span class="nf">compare</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str1</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str2</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">while</span> <span class="p">(</span><span class="o">*</span><span class="n">str1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">str1</span> <span class="o">!</span><span class="o">=</span> <span class="o">*</span><span class="n">str2</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">str1</span><span class="o">+</span><span class="o">+</span><span class="p">;</span>
    <span class="n">str2</span><span class="o">+</span><span class="o">+</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">str2</span> <span class="o">=</span><span class="o">=</span> <span class="sa"></span><span class="sc">&#39;</span><span class="sc">\0</span><span class="sc">&#39;</span><span class="p">)</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><p>성공적으로 컴파일 하였다면</p><img src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile1.uf.tistory.com%2Fimage%2F130E31144C40527F9208AF' alt='""'><p>아까와 동일한 결과를 얻을 수 있었습니다.</p><p>일단 위 프로그램이 어떻게 작동하는지 살펴 봅시다.</p><img src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile5.uf.tistory.com%2Fimage%2F13697A0E4C406E8688A9DF' alt='""'><p>아마 예전에 배워서 까먹었을 가능성이 있는데 우리가 실행 파일을 만들기 위해서는 먼저 C 코드를 컴퓨터가 이해할 수 있는 언어로 바꿔주는 컴파일(compile) 이라는 과정이 진행됩니다. 이는 단일 소스 코드 전체를 어셈블리어 (기계어와 1 : 1 대응이 되어 있음) 로 변환해 줍니다 (이 때, 목적코드라 불리는 확장자가 <code class='inline-code'>.o</code> 인 파일이 생성됩니다) . 이 과정이 끝나게 되면 링킹(linking) 이라는 과정이 진행되는데 말그대로 각기 다른 파일에 위치한 소스 코드들을 한데 엮어서 하나의 실행 파일로 만들어지는 과정이라 생각하시면 됩니다.</p><p>링킹 과정에서 특정한 소스 파일에 있는 함수들이 어디어디에 있는지 찾는 과정을 거치게 되는데 예를 들어서 <code class='inline-code'>test.c</code> 의 경우 <code class='inline-code'>compare</code> 함수가 어디있는지 찾게 됩니다. (눈치가 빠른 독자라면 <code class='inline-code'>printf</code> 함수 역시 찾아야 함을 알 수 있는데 이에 대한 설명은 나중에 하겠습니다) 우리의 예제의 경우 <code class='inline-code'>compare</code> 함수는 <code class='inline-code'>str.c</code> 에 있기 때문에 링커(링킹을 해주는 것, 컴파일을 해주는 것이 컴파일러인 것과 일맥 상통하다) 는 'test.c 에서 <code class='inline-code'>compare</code> 함수를 호출하는 경우 <code class='inline-code'>str.c</code> 에서 찾아라' 정도로 처리해 주게 됩니다. 덕분에 우리는 <code class='inline-code'>test.c</code> 에서 <code class='inline-code'>compare</code> 함수를 호출하더라도 <code class='inline-code'>str.c</code> 의 <code class='inline-code'>compare</code> 함수를 이용할 수 있게 되는 것이지요.</p><p>만일 <code class='inline-code'>test.c</code> 에서</p><pre class="chroma"><span class="kt">char</span> <span class="nf">compare</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str1</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str2</span><span class="p">)</span><span class="p">;</span>
</pre><p>부분을 지워버리면 어떨까요? 이렇게 된다면 컴파일러는 'main 함수에서 <code class='inline-code'>compare</code> 함수를 호출하였는데, 도대체 <code class='inline-code'>compare</code> 함수는 어떻게 생긴 모양이야!' 가 되어 컴파일 시에 오류가 발생하게 됩니다. 물론 링커의 경우도 <code class='inline-code'>compare</code> 함수의 정확한 모양이 무엇인지 알 수 없으므로 오류가 발생하게 되죠.</p><p>따라서 이렇게 언제나 함수의 선언을 명시해 주는 것은 매우 중요한 일입니다.</p><p>하지만 <code class='inline-code'>compare</code> 라는 함수 말고도 <code class='inline-code'>copy</code> 라는 함수가 <code class='inline-code'>str.c</code> 에 추가되었습니다. 이 함수는 두 문자열을 복사해주는 역할을 합니다. <code class='inline-code'>copy</code> 라는 함수를 <code class='inline-code'>test.c</code> 에서 이용하기 위해선 역시 <code class='inline-code'>copy</code> 함수의 원형을 써주어야 합니다. 이는 상당히 귀찮은 일이지요. 뿐만 아니라 다른 파일에서도 <code class='inline-code'>compare</code> 함수와 <code class='inline-code'>copy</code> 함수를 이용할 수 있는데 이 파일 역시 이 두 함수의 원형을 써주어야 합니다.</p><p>이렇게 귀찮은 작업을 막기 위해 C 에서는 아주 놀라운 해결책을 제시하였는데 바로 헤더파일 (header file) 을 이용하는 것입니다. 헤더파일은 다음과 같은 방법으로 만들 수 있습니다.</p><h3><p>  헤더 파일</p></h3><img src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile26.uf.tistory.com%2Fimage%2F160941104C4069157ABB63' alt='""'><p>먼저 기존에 <code class='inline-code'>str.c</code> 파일을 추가했을 때 했던 것 처럼 하되 이번에는 헤더파일 폴더에 파일을 추가해보도록 합시다.</p><img src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile8.uf.tistory.com%2Fimage%2F206DC2104C4069211A9828' alt='""'><p>헤더파일을 추가하는 것이므로 '헤더파일' 을 선택한 후, 이름에 <code class='inline-code'>str</code> 을 적습니다.</p><img src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile4.uf.tistory.com%2Fimage%2F1367AB104C40696025CB87' alt='""'><p>그리고 헤더파일에는 위와 같이 내용을 기록합니다. 그 후, 각 소스 코드를 다음과 같이 수정해줍니다.</p><pre class="chroma"><span class="cm">/* test.c */</span>
<span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span><span class="cp"></span><span class="cp">#</span><span class="cp">include</span> <span class="cpf">&#34;str.h&#34;</span><span class="cp">
</span><span class="cp"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">char</span> <span class="n">str1</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">str2</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="p">;</span>

  <span class="n">scanf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%s</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">)</span><span class="p">;</span>
  <span class="n">scanf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%s</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">str2</span><span class="p">)</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">compare</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">)</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%s 와 %s 는 같은 문장 입니다. </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">)</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%s 와 %s 는 다른 문장 입니다. </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">)</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><pre class="chroma"><span class="cm">/* str.c */</span>
<span class="cp">#</span><span class="cp">include</span> <span class="cpf">&#34;str.h&#34;</span><span class="cp">
</span><span class="cp"></span>
<span class="kt">char</span> <span class="nf">compare</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str1</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str2</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">while</span> <span class="p">(</span><span class="o">*</span><span class="n">str1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">str1</span> <span class="o">!</span><span class="o">=</span> <span class="o">*</span><span class="n">str2</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">str1</span><span class="o">+</span><span class="o">+</span><span class="p">;</span>
    <span class="n">str2</span><span class="o">+</span><span class="o">+</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">str2</span> <span class="o">=</span><span class="o">=</span> <span class="sa"></span><span class="sc">&#39;</span><span class="sc">\0</span><span class="sc">&#39;</span><span class="p">)</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><pre class="chroma"><span class="cm">/* str.h */</span>
<span class="kt">char</span> <span class="nf">compare</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str1</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str2</span><span class="p">)</span><span class="p">;</span>
</pre><p>  성공적으로 컴파일 하였다면</p><img src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile9.uf.tistory.com%2Fimage%2F15681B1C4C406A05628C04' alt='""'><p>역시 위와 같이 잘 작동하고 있음을 알 수 있습니다.</p><p>먼저 <code class='inline-code'>test.c</code> 부터 살펴봅시다.</p><pre class="chroma"><span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span><span class="cp"></span><span class="cp">#</span><span class="cp">include</span> <span class="cpf">&#34;str.h&#34;</span><span class="cp">
</span><span class="cp"></span></pre><p>#include 와 같은 명령들은 '전처리기(Preprocessor)' 명령이라고 부르는데 이러한 명령들의 특징은 컴파일 이전에 실행된다는 점 입니다.이 명령은 우리가 지칭하는 파일의 내용을 정확히 <code class='inline-code'>100%</code> 복사해서 붙여 넣는다는 점입니다. 따라서 #include "str.h" 라는 명령은 <code class='inline-code'>str.h</code> 에 있었던 내용, 즉 <code class='inline-code'>char compare(char *str1, char</code> <span class='font-italic'>str2); 로 컴파일이 시작하기 전에 바뀌어 버립니다.</p><p>그렇다면 #include <code class='inline-code'>&lt;stdio.h&gt;</code> 는 어떨까요? 이 역시 똑같습니다. <code class='inline-code'>stdio.h</code> 에 써있는 내용들이 정확히 복사되어 컴파일 이전에 코드에 붙어버립니다. 그런데 한 가지 이상한 점은 <code class='inline-code'>stdio.h</code> 는 <code class='inline-code'>&lt;&gt;</code> 로 감쌌는데, <code class='inline-code'>str.h</code> 는 왜 " " 로 감쌌을까요? 그 이유는 단순한데, <code class='inline-code'>&lt; &gt;</code> 로 감싸는 헤더파일은 컴파일러에서 기본으로 지원하는 헤더파일의 경우이고 " " 로 감싸는 헤더파일은 사용자가 직접 제작한 헤더파일의 경우 입니다.</p><p>여러분은 <code class='inline-code'>stdio.h</code> 에 무엇이 써져 있는지 궁금하지 않으세요? 한 번 제가 그 내용을 올려드리겠습니다.</p><p><code class='inline-code'>stdio.h</code> 내용 보기<code class='inline-code'>/***</code><code class='inline-code'>*stdio.h - definitions/declarations for standard I/O routines</code><code class='inline-code'>*</code></p><ul><li><p>       <code class='inline-code'>Copyright (c) Microsoft Corporation. All rights reserved.</code><code class='inline-code'>*</code><span class='font-italic'>Purpose:</p></li><li><p>       <code class='inline-code'>This file defines the structures, values, macros, and functions</code></p></li><li><p>       <code class='inline-code'>used by the level 2 I/O</code> ("standard I/O") <code class='inline-code'>routines.</code></p></li><li><p>       <code class='inline-code'>[ANSI/System V]</code><code class='inline-code'>*</code></p></li><li><p>       <code class='inline-code'>[Public]</code><code class='inline-code'>*</code><code class='inline-code'>****/</code></p></li></ul><p>#if     <code class='inline-code'>_MSC_VER &gt; 1000</code>#pragma <code class='inline-code'>once</code>#endif</p><p>#ifndef <code class='inline-code'>_INC_STDIO</code>#define <code class='inline-code'>_INC_STDIO</code></p><p>#include <code class='inline-code'>&lt;crtdefs.h&gt;</code>#ifdef  <code class='inline-code'>_MSC_VER</code><code class='inline-code'>/*</code> <span class='font-italic'> <code class='inline-code'>Currently, all MS C compilers for Win32 platforms default to 8 byte</code> </span> <code class='inline-code'>alignment.</code> <span class='font-italic'>/#pragma <code class='inline-code'>pack(push,_CRT_PACKING)</code>#endif  <code class='inline-code'>/* _MSC_VER */</code></p><p>#ifdef  <code class='inline-code'>__cplusplus</code><code class='inline-code'>extern</code> "C" <code class='inline-code'>{</code>#endif</p><p><code class='inline-code'>/* Buffered I/O macros */</code></p><p>#define BUFSIZ  512</p><p><code class='inline-code'>/*</code> <span class='font-italic'> <code class='inline-code'>Default number of supported streams. _NFILE is confusing and obsolete, but</code> </span> <code class='inline-code'>supported anyway for backwards compatibility.</code> <span class='font-italic'>/#define </span>NFILE      <code class='inline-code'>_NSTREAM_</code></p><p>#define <span class='font-italic'>NSTREAM</span>   512</p><p><code class='inline-code'>/*</code> <span class='font-italic'> <code class='inline-code'>Number of entries in _iob[] (declared below). Note that _NSTREAM_ must be</code> </span> <code class='inline-code'>greater than or equal to _IOB_ENTRIES.</code> <span class='font-italic'>/#define <code class='inline-code'>_IOB_ENTRIES 20</code></p><p>#define EOF     (-1)</p><p>#ifndef <code class='inline-code'>_FILE_DEFINED</code><code class='inline-code'>struct _iobuf {</code>        <code class='inline-code'>char</code> <span class='font-italic'></span>ptr;        int   <span class='font-italic'>cnt;        <code class='inline-code'>char</code> </span><span class='font-italic'>base;        int   </span>flag;        int   <span class='font-italic'>file;        int   </span>charbuf;        int   <span class='font-italic'>bufsiz;        <code class='inline-code'>char</code> </span><span class='font-italic'>tmpfname;        };<code class='inline-code'>typedef struct _iobuf</code> FILE;#define <code class='inline-code'>_FILE_DEFINED</code>#endif</p><p><code class='inline-code'>/* Directory where temporary files may be created. */</code></p><p>#ifdef  <code class='inline-code'>_POSIX_</code>#define <span class='font-italic'>P</span>tmpdir   "/"#define <span class='font-italic'>wP</span>tmpdir  L"/"#else#define <span class='font-italic'>P</span>tmpdir   "\\"#define <span class='font-italic'>wP</span>tmpdir  L"\\"#endif</p><p><code class='inline-code'>/* L_tmpnam = length of string _P_tmpdir</code> <span class='font-italic'>            <code class='inline-code'>+ 1 if _P_tmpdir does not end in</code> "/" <code class='inline-code'>or</code> "\", <code class='inline-code'>else 0</code> </span>            <code class='inline-code'>+ 12 (for the filename string)</code> <span class='font-italic'>            <code class='inline-code'>+ 1 (for the null terminator)</code> </span> <code class='inline-code'>L_tmpnam_s = length of string _P_tmpdir</code> <span class='font-italic'>            <code class='inline-code'>+ 1 if _P_tmpdir does not end in</code> "/" <code class='inline-code'>or</code> "\", <code class='inline-code'>else 0</code> </span>            <code class='inline-code'>+ 16 (for the filename string)</code> <span class='font-italic'>            <code class='inline-code'>+ 1 (for the null terminator)</code> </span>/#define L<span class='font-italic'>tmpnam   (sizeof(</span>P<span class='font-italic'>tmpdir) <code class='inline-code'>+ 12)</code>#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code>#define <code class='inline-code'>L_tmpnam_s (sizeof(_P_tmpdir) + 16)</code>#endif</p><p>#ifdef  <code class='inline-code'>_POSIX_</code>#define L<span class='font-italic'>ctermid   9#define L</span>cuserid   32#endif</p><p><code class='inline-code'>/* Seek method constants */</code></p><p>#define SEEK<span class='font-italic'>CUR    1#define SEEK</span>END    2#define SEEK<span class='font-italic'>SET    0</p><p>#define FILENAME<span class='font-italic'>MAX    260#define FOPEN</span>MAX       20#define <span class='font-italic'>SYS</span>OPEN       20#define TMP<span class='font-italic'>MAX         32767  <code class='inline-code'>/* SHRT_MAX */</code>#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code>#define TMP</span>MAX<span class='font-italic'>S       <code class='inline-code'>_TMP_MAX_S</code>#define </span>TMP<span class='font-italic'>MAX</span>S      <code class='inline-code'>2147483647 /* INT_MAX */</code>#endif</p><p><code class='inline-code'>/* Define NULL pointer value */</code>#ifndef <code class='inline-code'>NULL</code>#ifdef <code class='inline-code'>__cplusplus</code>#define NULL    0#else#define NULL    ((void <span class='font-italic'>)0)#endif#endif</p><p><code class='inline-code'>/* Declare _iob[] array */</code></p><p>#ifndef <code class='inline-code'>_STDIO_DEFINED</code><code class='inline-code'>_CRTIMP FILE * __cdecl</code> <span class='font-weight-bold'>iob<span class='font-italic'>func(void);#endif  <code class='inline-code'>/* _STDIO_DEFINED */</code></p><p><code class='inline-code'>/* Define file position type */</code></p><p>#ifndef <code class='inline-code'>_FPOS_T_DEFINED</code>#undef <code class='inline-code'>_FPOSOFF</code></p><p>#if     <code class='inline-code'>defined (_POSIX_)</code><code class='inline-code'>typedef long</code> fpos<span class='font-italic'>t;#define <code class='inline-code'>_FPOSOFF(fp) ((long)(fp))</code>#else   <code class='inline-code'>/* _POSIX_ */</code></p><p>#if     <code class='inline-code'>!__STDC__</code><code class='inline-code'>/* At this point we could switch both to long long, but we</code> won't <code class='inline-code'>do that till next version to avoid any potential compat issues */</code><code class='inline-code'>typedef __int64</code> fpos<span class='font-italic'>t;#define <code class='inline-code'>_FPOSOFF(fp) ((long)(fp))</code>#else<code class='inline-code'>typedef long long</code> fpos</span>t;#define <code class='inline-code'>_FPOSOFF(fp) ((long)(fp))</code>#endif#endif  <code class='inline-code'>/* _POSIX_ */</code></p><p>#define <code class='inline-code'>_FPOS_T_DEFINED</code>#endif</p><p>#ifndef <code class='inline-code'>_STDSTREAM_DEFINED</code>#define stdin  (&<span class='font-weight-bold'>iob<span class='font-italic'>func()[0])#define <code class='inline-code'>stdout (&__iob_func()[1])</code>#define <code class='inline-code'>stderr (&__iob_func()[2])</code>#define <code class='inline-code'>_STDSTREAM_DEFINED</code>#endif</p><p>#define <span class='font-italic'>IOREAD         <code class='inline-code'>0x0001</code>#define </span>IOWRT          <code class='inline-code'>0x0002</code></p><p>#define <span class='font-italic'>IOFBF          <code class='inline-code'>0x0000</code>#define </span>IOLBF          <code class='inline-code'>0x0040</code>#define <span class='font-italic'>IONBF          <code class='inline-code'>0x0004</code></p><p>#define <span class='font-italic'>IOMYBUF        <code class='inline-code'>0x0008</code>#define </span>IOEOF          <code class='inline-code'>0x0010</code>#define <span class='font-italic'>IOERR          <code class='inline-code'>0x0020</code>#define </span>IOSTRG         <code class='inline-code'>0x0040</code>#define <span class='font-italic'>IORW           <code class='inline-code'>0x0080</code>#ifdef  <code class='inline-code'>_POSIX_</code>#define </span>IOAPPEND       <code class='inline-code'>0x0200</code>#endif</p><p><code class='inline-code'>/* constants used by _set_output_format */</code>#define <code class='inline-code'>_TWO_DIGIT_EXPONENT 0x1</code></p><p><code class='inline-code'>/* Function prototypes */</code></p><p>#ifndef <code class='inline-code'>_STDIO_DEFINED</code></p><p><code class='inline-code'>_Check_return_ _CRTIMP int __cdecl _filbuf(_Inout_ FILE * _File</code> );<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _flsbuf(_In_ int _Ch, _Inout_ FILE *</code> <span class='font-italic'>File);</p><p>#ifdef  <code class='inline-code'>_POSIX_</code><code class='inline-code'>_Check_return_ _CRTIMP FILE * __cdecl _fsopen(_In_z_ const char * _Filename, _In_z_ const char *</code> <span class='font-italic'>Mode);#else<code class='inline-code'>_Check_return_ _CRTIMP FILE * __cdecl _fsopen(_In_z_ const char * _Filename, _In_z_ const char * _Mode, _In_ int</code> </span>ShFlag);#endif</p><p><code class='inline-code'>_CRTIMP void __cdecl clearerr(_Inout_ FILE *</code> <span class='font-italic'>File);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_wat_ _CRTIMP errno_t __cdecl clearerr_s(_Inout_ FILE * _File</code> );#endif<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl fclose(_Inout_ FILE *</code> </span>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl</code> <span class='font-italic'>fcloseall(void);</p><p>#ifdef  <code class='inline-code'>_POSIX_</code><code class='inline-code'>_Check_return_ _CRTIMP FILE * __cdecl fdopen( _In_ int _FileHandle, _In_z_ const char *</code> <span class='font-italic'>Mode);#else<code class='inline-code'>_Check_return_ _CRTIMP FILE * __cdecl _fdopen(_In_ int _FileHandle, _In_z_ const char *</code> </span>Mode);#endif</p><p><code class='inline-code'>_Check_return_ _CRTIMP int __cdecl feof(_In_ FILE *</code> <span class='font-italic'>File);<code class='inline-code'>_Check_return_ _CRTIMP int __cdecl ferror(_In_ FILE *</code> </span>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl fflush(_Inout_opt_ FILE *</code> <span class='font-italic'>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl fgetc(_Inout_ FILE *</code> </span>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl</code> <span class='font-italic'>fgetchar(void);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl fgetpos(_Inout_ FILE * _File , _Out_ fpos_t *</code> </span>Pos);<code class='inline-code'>_Check_return_opt_ _CRTIMP char * __cdecl fgets(_Out_z_cap_(_MaxCount) char * _Buf, _In_ int _MaxCount, _Inout_ FILE *</code> <span class='font-italic'>File);</p><p>#ifdef  <code class='inline-code'>_POSIX_</code><code class='inline-code'>_Check_return_ _CRTIMP int __cdecl fileno(_In_ FILE *</code> <span class='font-italic'>File);#else<code class='inline-code'>_Check_return_ _CRTIMP int __cdecl _fileno(_In_ FILE *</code> </span>File);#endif</p><p>#if <code class='inline-code'>defined(_DEBUG) && defined(_CRTDBG_MAP_ALLOC)</code>#pragma push<span class='font-italic'>macro("</span>tempnam")#undef <code class='inline-code'>_tempnam</code>#endif</p><p><code class='inline-code'>_Check_return_ _CRTIMP char * __cdecl _tempnam(_In_opt_z_ const char * _DirName, _In_opt_z_ const char *</code> <span class='font-italic'>FilePrefix);</p><p>#if <code class='inline-code'>defined(_DEBUG) && defined(_CRTDBG_MAP_ALLOC)</code>#pragma pop<span class='font-italic'>macro("</span>tempnam")#endif</p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl</code> <span class='font-italic'>flushall(void);<code class='inline-code'>_Check_return_ _CRT_INSECURE_DEPRECATE(fopen_s) _CRTIMP FILE * __cdecl fopen(_In_z_ const char * _Filename, _In_z_ const char *</code> </span>Mode);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_wat_ _CRTIMP errno_t __cdecl fopen_s(_Deref_out_opt_ FILE ** _File, _In_z_ const char * _Filename, _In_z_ const char *</code> <span class='font-italic'>Mode);#endif<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl fprintf(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const char * _Format,</code> ...);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl fprintf_s(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const char * _Format,</code> ...);#endif<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl fputc(_In_ int _Ch, _Inout_ FILE *</code> </span>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _fputchar(_In_ int</code> <span class='font-italic'>Ch);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl fputs(_In_z_ const char * _Str, _Inout_ FILE *</code> </span>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP size_t __cdecl fread(_Out_bytecap_x_(_ElementSize*_Count) void * _DstBuf, _In_ size_t _ElementSize, _In_ size_t _Count, _Inout_ FILE *</code> <span class='font-italic'>File);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP size_t __cdecl fread_s(_Out_bytecap_x_(_ElementSize*_Count) void * _DstBuf, _In_ size_t _DstSize, _In_ size_t _ElementSize, _In_ size_t _Count, _Inout_ FILE *</code> </span>File);#endif<code class='inline-code'>_Check_return_ _CRT_INSECURE_DEPRECATE(freopen_s) _CRTIMP FILE * __cdecl freopen(_In_z_ const char * _Filename, _In_z_ const char * _Mode, _Inout_ FILE *</code> <span class='font-italic'>File);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_wat_ _CRTIMP errno_t __cdecl freopen_s(_Deref_out_opt_ FILE ** _File, _In_z_ const char * _Filename, _In_z_ const char * _Mode, _Inout_ FILE *</code> </span>OldFile);#endif<code class='inline-code'>_Check_return_ _CRT_INSECURE_DEPRECATE(fscanf_s) _CRTIMP int __cdecl fscanf(_Inout_ FILE * _File, _In_z_ _Scanf_format_string_ const char * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(_fscanf_s_l) _CRTIMP int __cdecl _fscanf_l(_Inout_ FILE * _File, _In_z_ _Scanf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);#pragma <code class='inline-code'>warning(push)</code>#pragma warning(disable:6530)#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl fscanf_s(_Inout_ FILE * _File, _In_z_ _Scanf_s_format_string_ const char * _Format,</code> ...);#endif<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _fscanf_s_l(_Inout_ FILE * _File, _In_z_ _Scanf_s_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl fsetpos(_Inout_ FILE * _File, _In_ const fpos_t *</code> <span class='font-italic'>Pos);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl fseek(_Inout_ FILE * _File, _In_ long _Offset, _In_ int</code> </span>Origin);<code class='inline-code'>_Check_return_ _CRTIMP long __cdecl ftell(_Inout_ FILE *</code> <span class='font-italic'>File);</p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _fseeki64(_Inout_ FILE * _File, _In_ __int64 _Offset, _In_ int</code> <span class='font-italic'>Origin);<code class='inline-code'>_Check_return_ _CRTIMP __int64 __cdecl _ftelli64(_Inout_ FILE *</code> </span>File);</p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP size_t __cdecl fwrite(_In_count_x_(_Size*_Count) const void * _Str, _In_ size_t _Size, _In_ size_t _Count, _Inout_ FILE *</code> <span class='font-italic'>File);<code class='inline-code'>_Check_return_ _CRTIMP int __cdecl getc(_Inout_ FILE *</code> </span>File);<code class='inline-code'>_Check_return_ _CRTIMP int __cdecl</code> getchar(void);<code class='inline-code'>_Check_return_ _CRTIMP int __cdecl</code> <span class='font-italic'>getmaxstdio(void);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_CRTIMP char * __cdecl gets_s(_Out_z_cap_(_Size) char * _Buf, _In_ rsize_t</code> </span>Size);#endif<code class='inline-code'>__DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_0(char *, gets_s, char, _Buffer)</code><code class='inline-code'>__DEFINE_CPP_OVERLOAD_STANDARD_FUNC_0_0(char *, __RETURN_POLICY_SAME, _CRTIMP, gets, _Pre_notnull_ _Post_z_ _Out_z_cap_c_(((size_t)-1)), char, _Buffer)</code><code class='inline-code'>_Check_return_ int __cdecl _getw(_Inout_ FILE *</code> <span class='font-italic'>File);#ifndef <code class='inline-code'>_CRT_PERROR_DEFINED</code>#define <code class='inline-code'>_CRT_PERROR_DEFINED</code><code class='inline-code'>_CRTIMP void __cdecl perror(_In_opt_z_ const char *</code> </span>ErrMsg);#endif<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _pclose(_Inout_ FILE *</code> <span class='font-italic'>File);<code class='inline-code'>_Check_return_ _CRTIMP FILE * __cdecl _popen(_In_z_ const char * _Command, _In_z_ const char *</code> </span>Mode);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl printf(_In_z_ _Printf_format_string_ const char * _Format,</code> ...);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl printf_s(_In_z_ _Printf_format_string_ const char * _Format,</code> ...);#endif<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl putc(_In_ int _Ch, _Inout_ FILE *</code> <span class='font-italic'>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl putchar(_In_ int</code> </span>Ch);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl puts(_In_z_ const char *</code> <span class='font-italic'>Str);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _putw(_In_ int _Word, _Inout_ FILE *</code> </span>File);#ifndef <code class='inline-code'>_CRT_DIRECTORY_DEFINED</code>#define <code class='inline-code'>_CRT_DIRECTORY_DEFINED</code><code class='inline-code'>_Check_return_ _CRTIMP int __cdecl remove(_In_z_ const char *</code> <span class='font-italic'>Filename);<code class='inline-code'>_Check_return_ _CRTIMP int __cdecl rename(_In_z_ const char * _OldFilename, _In_z_ const char *</code> </span>NewFilename);<code class='inline-code'>_Check_return_ _CRTIMP int __cdecl _unlink(_In_z_ const char *</code> <span class='font-italic'>Filename);#if <code class='inline-code'>!__STDC__</code><code class='inline-code'>_Check_return_ _CRT_NONSTDC_DEPRECATE(_unlink) _CRTIMP int __cdecl unlink(_In_z_ const char *</code> </span>Filename);#endif#endif<code class='inline-code'>_CRTIMP void __cdecl rewind(_Inout_ FILE *</code> <span class='font-italic'>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl</code> </span>rmtmp(void);<code class='inline-code'>_Check_return_ _CRT_INSECURE_DEPRECATE(scanf_s) _CRTIMP int __cdecl scanf(_In_z_ _Scanf_format_string_ const char * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(_scanf_s_l) _CRTIMP int __cdecl _scanf_l(_In_z_ _Scanf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl scanf_s(_In_z_ _Scanf_s_format_string_ const char * _Format,</code> ...);#endif<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _scanf_s_l(_In_z_ _Scanf_s_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_CRT_INSECURE_DEPRECATE(setvbuf) _CRTIMP void __cdecl setbuf(_Inout_ FILE * _File, _Inout_opt_cap_c_(BUFSIZ) _Post_count_c_(0) char *</code> <span class='font-italic'>Buffer);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _setmaxstdio(_In_ int</code> </span>Max);<code class='inline-code'>_Check_return_opt_ _CRTIMP unsigned int __cdecl _set_output_format(_In_ unsigned int</code> <span class='font-italic'>Format);<code class='inline-code'>_Check_return_opt_ _CRTIMP unsigned int __cdecl</code> </span>get<span class='font-italic'>output</span>format(void);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl setvbuf(_Inout_ FILE * _File, _Inout_opt_z_bytecap_(_Size) char * _Buf, _In_ int _Mode, _In_ size_t</code> <span class='font-italic'>Size);<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _snprintf_s(_Out_z_bytecap_(_SizeInBytes) char * _DstBuf, _In_ size_t _SizeInBytes, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const char * _Format,</code> ...);<code class='inline-code'>__DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_2_ARGLIST(int, _snprintf_s, _vsnprintf_s, char, _Dest, _In_ size_t, _MaxCount, _In_z_ _Printf_format_string_ const char *,_Format)</code>#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl sprintf_s(_Out_z_bytecap_(_SizeInBytes) char * _DstBuf, _In_ size_t _SizeInBytes, _In_z_ _Printf_format_string_ const char * _Format,</code> ...);#endif<code class='inline-code'>__DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_1_ARGLIST(int, sprintf_s, vsprintf_s, char, _Dest, _In_z_ _Printf_format_string_ const char *, _Format)</code><code class='inline-code'>_Check_return_ _CRTIMP int __cdecl _scprintf(_In_z_ _Printf_format_string_ const char * _Format,</code> ...);<code class='inline-code'>_Check_return_ _CRT_INSECURE_DEPRECATE(sscanf_s) _CRTIMP int __cdecl sscanf(_In_z_ const char * _Src, _In_z_ _Scanf_format_string_ const char * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(_sscanf_s_l) _CRTIMP int __cdecl _sscanf_l(_In_z_ const char * _Src, _In_z_ _Scanf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl sscanf_s(_In_z_ const char * _Src, _In_z_ _Scanf_s_format_string_ const char * _Format,</code> ...);#endif<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _sscanf_s_l(_In_z_ const char * _Src, _In_z_ _Scanf_s_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(_snscanf_s) _CRTIMP int __cdecl _snscanf(_In_bytecount_(_MaxCount) _Pre_z_ const char * _Src, _In_ size_t _MaxCount, _In_z_ _Scanf_format_string_ const char * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(_snscanf_s_l) _CRTIMP int __cdecl _snscanf_l(_In_bytecount_(_MaxCount) _Pre_z_ const char * _Src, _In_ size_t _MaxCount, _In_z_ _Scanf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _snscanf_s(_In_bytecount_(_MaxCount) _Pre_z_ const char * _Src, _In_ size_t _MaxCount, _In_z_ _Scanf_s_format_string_ const char * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _snscanf_s_l(_In_bytecount_(_MaxCount) _Pre_z_ const char * _Src, _In_ size_t _MaxCount, _In_z_ _Scanf_s_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_ _CRT_INSECURE_DEPRECATE(tmpfile_s) _CRTIMP FILE * __cdecl</code> tmpfile(void);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_wat_ _CRTIMP errno_t __cdecl tmpfile_s(_Out_opt_ _Deref_post_valid_ FILE **</code> </span>File);<code class='inline-code'>_Check_return_wat_ _CRTIMP errno_t __cdecl tmpnam_s(_Out_z_cap_(_Size) char * _Buf, _In_ rsize_t</code> <span class='font-italic'>Size);#endif<code class='inline-code'>__DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_0(errno_t, tmpnam_s, _Deref_post_z_ char, _Buf)</code><code class='inline-code'>__DEFINE_CPP_OVERLOAD_STANDARD_FUNC_0_0(char *, __RETURN_POLICY_DST, _CRTIMP, tmpnam, _Pre_maybenull_ _Post_z_, char, _Buffer)</code><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl ungetc(_In_ int _Ch, _Inout_ FILE *</code> </span>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl vfprintf(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const char * _Format, va_list</code> <span class='font-italic'>ArgList);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl vfprintf_s(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const char * _Format, va_list</code> </span>ArgList);#endif<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl vprintf(_In_z_ _Printf_format_string_ const char * _Format, va_list</code> <span class='font-italic'>ArgList);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl vprintf_s(_In_z_ _Printf_format_string_ const char * _Format, va_list</code> </span>ArgList);#endif<code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(vsnprintf_s) _CRTIMP int __cdecl vsnprintf(_Out_cap_(_MaxCount) char * _DstBuf, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const char * _Format, va_list</code> <span class='font-italic'>ArgList);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl vsnprintf_s(_Out_z_cap_(_DstSize) char * _DstBuf, _In_ size_t _DstSize, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const char * _Format, va_list</code> </span>ArgList);#endif<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _vsnprintf_s(_Out_z_cap_(_SizeInBytes) char * _DstBuf, _In_ size_t _SizeInBytes, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const char * _Format, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>__DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_3(int, _vsnprintf_s, char, _Dest, _In_ size_t, _MaxCount, _In_z_ _Printf_format_string_ const char *, _Format, va_list, _Args)</code>#pragma <code class='inline-code'>warning(push)</code>#pragma warning(disable:4793)<code class='inline-code'>__DEFINE_CPP_OVERLOAD_STANDARD_NFUNC_0_2_ARGLIST_EX(int, __RETURN_POLICY_SAME, _CRTIMP, _snprintf, _vsnprintf, _Pre_notnull_ _Post_maybez_ char, _Out_cap_(_Count) _Post_maybez_, char, _Dest, _In_ size_t, _Count, _In_z_ _Printf_format_string_ const char *, _Format)</code>#pragma <code class='inline-code'>warning(pop)</code>#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_CRTIMP_ALTERNATIVE int __cdecl vsprintf_s(_Out_z_cap_(_SizeInBytes) char * _DstBuf, _In_ size_t _SizeInBytes, _In_z_ _Printf_format_string_ const char * _Format, va_list</code> </span>ArgList);#endif<code class='inline-code'>__DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_2(int, vsprintf_s, char, _Dest, _In_z_ _Printf_format_string_ const char *, _Format, va_list, _Args)</code>#pragma <code class='inline-code'>warning(push)</code>#pragma warning(disable:4793)<code class='inline-code'>__DEFINE_CPP_OVERLOAD_STANDARD_FUNC_0_1_ARGLIST(int, __RETURN_POLICY_SAME, _CRTIMP, sprintf, vsprintf, _Pre_notnull_ _Post_z_, char, _Dest, _In_z_ _Printf_format_string_ const char *, _Format)</code>#pragma <code class='inline-code'>warning(pop)</code><code class='inline-code'>_Check_return_ _CRTIMP int __cdecl _vscprintf(_In_z_ _Printf_format_string_ const char * _Format, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _snprintf_c(_Out_cap_(_MaxCount) char * _DstBuf, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const char * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vsnprintf_c(_Out_cap_(_MaxCount) char *_DstBuf, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const char * _Format, va_list</code> </span>ArgList);</p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _fprintf_p(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const char * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _printf_p(_In_z_ _Printf_format_string_ const char * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _sprintf_p(_Out_z_cap_(_MaxCount) char * _Dst, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const char * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vfprintf_p(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const char * _Format, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vprintf_p(_In_z_ _Printf_format_string_ const char * _Format, va_list</code> </span>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vsprintf_p(_Out_z_cap_(_MaxCount) char * _Dst, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const char * _Format, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>_Check_return_ _CRTIMP int __cdecl _scprintf_p(_In_z_ _Printf_format_string_ const char * _Format,</code> ...);<code class='inline-code'>_Check_return_ _CRTIMP int __cdecl _vscprintf_p(_In_z_ _Printf_format_string_ const char * _Format, va_list</code> </span>ArgList);<code class='inline-code'>_CRTIMP int __cdecl _set_printf_count_output(_In_ int</code> <span class='font-italic'>Value);<code class='inline-code'>_CRTIMP int __cdecl</code> </span>get<span class='font-italic'>printf</span>count<span class='font-italic'>output();</p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _printf_l(_In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _printf_p_l(_In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _printf_s_l(_In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vprintf_l(_In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vprintf_p_l(_In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale, va_list</code> </span>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vprintf_s_l(_In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale, va_list</code> <span class='font-italic'>ArgList);</p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _fprintf_l(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _fprintf_p_l(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _fprintf_s_l(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vfprintf_l(_Inout_ FILE * _File, _In_z_ const char * _Format, _In_opt_ _locale_t _Locale, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vfprintf_p_l(_Inout_ FILE * _File, _In_z_ const char * _Format, _In_opt_ _locale_t _Locale, va_list</code> </span>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vfprintf_s_l(_Inout_ FILE * _File, _In_z_ const char * _Format, _In_opt_ _locale_t _Locale, va_list</code> <span class='font-italic'>ArgList);</p><p><code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(_sprintf_s_l) _CRTIMP int __cdecl _sprintf_l(_Pre_notnull_ _Post_z_ char * _DstBuf, _In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _sprintf_p_l(_Out_z_cap_(_MaxCount) char * _DstBuf, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _sprintf_s_l(_Out_z_bytecap_(_DstSize) char * _DstBuf, _In_ size_t _DstSize, _In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(_vsprintf_s_l) _CRTIMP int __cdecl _vsprintf_l(_Pre_notnull_ _Post_z_ char * _DstBuf, _In_z_ const char * _Format, _In_opt_ _locale_t, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vsprintf_p_l(_Out_z_cap_(_MaxCount) char * _DstBuf, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const char* _Format, _In_opt_ _locale_t</code> </span>Locale,  <code class='inline-code'>va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _vsprintf_s_l(_Out_z_cap_(_DstSize) char * _DstBuf, _In_ size_t _DstSize, _In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale, va_list</code> </span>ArgList);</p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _scprintf_l(_In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _scprintf_p_l(_In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vscprintf_l(_In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vscprintf_p_l(_In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale, va_list</code> </span>ArgList);</p><p><code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(_snprintf_s_l) _CRTIMP int __cdecl _snprintf_l(_Out_cap_(_MaxCount) char * _DstBuf, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _snprintf_c_l(_Out_cap_(_MaxCount) char * _DstBuf, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _snprintf_s_l(_Out_z_cap_(_DstSize) char * _DstBuf, _In_ size_t _DstSize, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(_vsnprintf_s_l) _CRTIMP int __cdecl _vsnprintf_l(_Out_cap_(_MaxCount) char * _DstBuf, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const char * _Format, _In_opt_ _locale_t _Locale, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vsnprintf_c_l(_Out_cap_(_MaxCount) char * _DstBuf, _In_ size_t _MaxCount, const char *, _In_opt_ _locale_t _Locale, va_list</code> </span>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vsnprintf_s_l(_Out_z_cap_(_DstSize) char * _DstBuf, _In_ size_t _DstSize, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const char* _Format,_In_opt_ _locale_t _Locale, va_list</code> <span class='font-italic'>ArgList);</p><p>#ifndef <code class='inline-code'>_WSTDIO_DEFINED</code></p><p><code class='inline-code'>/* wide function prototypes, also declared in</code> wchar.h  <code class='inline-code'>*/</code></p><p>#ifndef <code class='inline-code'>WEOF</code>#define <code class='inline-code'>WEOF (wint_t)(0xFFFF)</code>#endif</p><p>#ifdef  <code class='inline-code'>_POSIX_</code><code class='inline-code'>_Check_return_ _CRTIMP FILE * __cdecl _wfsopen(_In_z_ const wchar_t * _Filename, _In_z_ const wchar_t *</code> <span class='font-italic'>Mode);#else<code class='inline-code'>_Check_return_ _CRTIMP FILE * __cdecl _wfsopen(_In_z_ const wchar_t * _Filename, _In_z_ const wchar_t * _Mode, _In_ int</code> </span>ShFlag);#endif</p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP wint_t __cdecl fgetwc(_Inout_ FILE *</code> <span class='font-italic'>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP wint_t __cdecl</code> </span>fgetwchar(void);<code class='inline-code'>_Check_return_opt_ _CRTIMP wint_t __cdecl fputwc(_In_ wchar_t _Ch, _Inout_ FILE *</code> <span class='font-italic'>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP wint_t __cdecl _fputwchar(_In_ wchar_t</code> </span>Ch);<code class='inline-code'>_Check_return_ _CRTIMP wint_t __cdecl getwc(_Inout_ FILE *</code> <span class='font-italic'>File);<code class='inline-code'>_Check_return_ _CRTIMP wint_t __cdecl</code> getwchar(void);<code class='inline-code'>_Check_return_opt_ _CRTIMP wint_t __cdecl putwc(_In_ wchar_t _Ch, _Inout_ FILE *</code> </span>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP wint_t __cdecl putwchar(_In_ wchar_t</code> <span class='font-italic'>Ch);<code class='inline-code'>_Check_return_opt_ _CRTIMP wint_t __cdecl ungetwc(_In_ wint_t _Ch, _Inout_ FILE *</code> </span>File);</p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP wchar_t * __cdecl fgetws(_Out_z_cap_(_SizeInWords) wchar_t * _Dst, _In_ int _SizeInWords, _Inout_ FILE *</code> <span class='font-italic'>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl fputws(_In_z_ const wchar_t * _Str, _Inout_ FILE *</code> </span>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP wchar_t * __cdecl _getws_s(_Out_z_cap_(_SizeInWords) wchar_t * _Str, _In_ size_t</code> <span class='font-italic'>SizeInWords);<code class='inline-code'>__DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_0(wchar_t *, _getws_s, wchar_t, _String)</code><code class='inline-code'>__DEFINE_CPP_OVERLOAD_STANDARD_FUNC_0_0(wchar_t *, __RETURN_POLICY_SAME, _CRTIMP, _getws, _Pre_notnull_ _Post_z_, wchar_t, _String)</code><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _putws(_In_z_ const wchar_t *</code> </span>Str);</p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl fwprintf(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const wchar_t * _Format,</code> ...);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl fwprintf_s(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const wchar_t * _Format,</code> ...);#endif<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl wprintf(_In_z_ _Printf_format_string_ const wchar_t * _Format,</code> ...);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl wprintf_s(_In_z_ _Printf_format_string_ const wchar_t * _Format,</code> ...);#endif<code class='inline-code'>_Check_return_ _CRTIMP int __cdecl _scwprintf(_In_z_ _Printf_format_string_ const wchar_t * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl vfwprintf(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const wchar_t * _Format, va_list</code> <span class='font-italic'>ArgList);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl vfwprintf_s(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const wchar_t * _Format, va_list</code> </span>ArgList);#endif<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl vwprintf(_In_z_ _Printf_format_string_ const wchar_t * _Format, va_list</code> <span class='font-italic'>ArgList);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl vwprintf_s(_In_z_ _Printf_format_string_ const wchar_t * _Format, va_list</code> </span>ArgList);#endif</p><p>#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_CRTIMP_ALTERNATIVE int __cdecl swprintf_s(_Out_z_cap_(_SizeInWords) wchar_t * _Dst, _In_ size_t _SizeInWords, _In_z_ _Printf_format_string_ const wchar_t * _Format,</code> ...);#endif<code class='inline-code'>__DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_1_ARGLIST(int, swprintf_s, vswprintf_s, wchar_t, _Dest, _In_z_ _Printf_format_string_ const wchar_t *, _Format)</code>#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_CRTIMP_ALTERNATIVE int __cdecl vswprintf_s(_Out_z_cap_(_SizeInWords) wchar_t * _Dst, _In_ size_t _SizeInWords, _In_z_ _Printf_format_string_ const wchar_t * _Format, va_list</code> <span class='font-italic'>ArgList);#endif<code class='inline-code'>__DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_2(int, vswprintf_s, wchar_t, _Dest, _In_z_ _Printf_format_string_ const wchar_t *, _Format, va_list, _Args)</code></p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _swprintf_c(_Out_z_cap_(_SizeInWords) wchar_t * _DstBuf, _In_ size_t _SizeInWords, _In_z_ _Printf_format_string_ const wchar_t * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vswprintf_c(_Out_z_cap_(_SizeInWords) wchar_t * _DstBuf, _In_ size_t _SizeInWords, _In_z_ _Printf_format_string_ const wchar_t * _Format, va_list</code> <span class='font-italic'>ArgList);</p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _snwprintf_s(_Out_z_cap_(_SizeInWords) wchar_t * _DstBuf, _In_ size_t _SizeInWords, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const wchar_t * _Format,</code> ...);<code class='inline-code'>__DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_2_ARGLIST(int, _snwprintf_s, _vsnwprintf_s, wchar_t, _Dest, _In_ size_t, _Count, _In_z_ _Printf_format_string_ const wchar_t *, _Format)</code><code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _vsnwprintf_s(_Out_z_cap_(_SizeInWords) wchar_t * _DstBuf, _In_ size_t _SizeInWords, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const wchar_t * _Format, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>__DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_3(int, _vsnwprintf_s, wchar_t, _Dest, _In_ size_t, _Count, _In_z_ _Printf_format_string_ const wchar_t *, _Format, va_list, _Args)</code>#pragma <code class='inline-code'>warning(push)</code>#pragma warning(disable:4793)<code class='inline-code'>__DEFINE_CPP_OVERLOAD_STANDARD_NFUNC_0_2_ARGLIST_EX(int, __RETURN_POLICY_SAME, _CRTIMP, _snwprintf, _vsnwprintf, _Pre_notnull_ _Post_maybez_ wchar_t, _Out_cap_(_Count) _Post_maybez_, wchar_t, _Dest, _In_ size_t, _Count, _In_z_ _Printf_format_string_ const wchar_t *, _Format)</code>#pragma <code class='inline-code'>warning(pop)</code></p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _fwprintf_p(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const wchar_t * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _wprintf_p(_In_z_ _Printf_format_string_ const wchar_t * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vfwprintf_p(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const wchar_t * _Format, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vwprintf_p(_In_z_ _Printf_format_string_ const wchar_t * _Format, va_list</code> </span>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _swprintf_p(_Out_z_cap_(_MaxCount) wchar_t * _DstBuf, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const wchar_t * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vswprintf_p(_Out_z_cap_(_MaxCount) wchar_t * _DstBuf, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const wchar_t * _Format, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>_Check_return_ _CRTIMP int __cdecl _scwprintf_p(_In_z_ _Printf_format_string_ const wchar_t * _Format,</code> ...);<code class='inline-code'>_Check_return_ _CRTIMP int __cdecl _vscwprintf_p(_In_z_ _Printf_format_string_ const wchar_t * _Format, va_list</code> </span>ArgList);</p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _wprintf_l(_In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _wprintf_p_l(_In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _wprintf_s_l(_In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vwprintf_l(_In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vwprintf_p_l(_In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale, va_list</code> </span>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vwprintf_s_l(_In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale, va_list</code> <span class='font-italic'>ArgList);</p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _fwprintf_l(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _fwprintf_p_l(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _fwprintf_s_l(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vfwprintf_l(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vfwprintf_p_l(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale, va_list</code> </span>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vfwprintf_s_l(_Inout_ FILE * _File, _In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale, va_list</code> <span class='font-italic'>ArgList);</p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _swprintf_c_l(_Out_z_cap_(_MaxCount) wchar_t * _DstBuf, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _swprintf_p_l(_Out_z_cap_(_MaxCount) wchar_t * _DstBuf, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _swprintf_s_l(_Out_z_cap_(_DstSize) wchar_t * _DstBuf, _In_ size_t _DstSize, _In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vswprintf_c_l(_Out_z_cap_(_MaxCount) wchar_t * _DstBuf, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _vswprintf_p_l(_Out_z_cap_(_MaxCount) wchar_t * _DstBuf, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale, va_list</code> </span>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _vswprintf_s_l(_Out_z_cap_(_DstSize) wchar_t * _DstBuf, _In_ size_t _DstSize, _In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale, va_list</code> <span class='font-italic'>ArgList);</p><p><code class='inline-code'>_Check_return_ _CRTIMP int __cdecl _scwprintf_l(_In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_ _CRTIMP int __cdecl _scwprintf_p_l(_In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_ _CRTIMP int __cdecl _vscwprintf_p_l(_In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale, va_list</code> <span class='font-italic'>ArgList);</p><p><code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(_snwprintf_s_l) _CRTIMP int __cdecl _snwprintf_l(_Out_cap_(_MaxCount) wchar_t * _DstBuf, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _snwprintf_s_l(_Out_z_cap_(_DstSize) wchar_t * _DstBuf, _In_ size_t _DstSize, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(_vsnwprintf_s_l) _CRTIMP int __cdecl _vsnwprintf_l(_Out_cap_(_MaxCount) wchar_t * _DstBuf, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _vsnwprintf_s_l(_Out_z_cap_(_DstSize) wchar_t * _DstBuf, _In_ size_t _DstSize, _In_ size_t _MaxCount, _In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale, va_list</code> </span>ArgList);</p><p>#ifndef <code class='inline-code'>_CRT_NON_CONFORMING_SWPRINTFS</code></p><p>#define <code class='inline-code'>_SWPRINTFS_DEPRECATED</code> <span class='font-italic'>CRT</span>DEPRECATE<span class='font-italic'>TEXT("swprintf <code class='inline-code'>has been changed to conform with the ISO C standard, adding an extra character count parameter. To use traditional Microsoft swprintf, set</code> </span>CRT<span class='font-italic'>NON</span>CONFORMING<span class='font-italic'>SWPRINTFS.")</p><p>#else</p><p>#define <code class='inline-code'>_SWPRINTFS_DEPRECATED</code></p><p>#endif <code class='inline-code'>/* ifndef _CRT_NON_CONFORMING_SWPRINTFS */</code></p><p><code class='inline-code'>/* we could end up with a double deprecation, disable warnings 4141 and 4996 */</code>#pragma <code class='inline-code'>warning(push)</code>#pragma warning(disable:4141 <code class='inline-code'>4996 4793)</code><code class='inline-code'>__DEFINE_CPP_OVERLOAD_STANDARD_FUNC_0_1_ARGLIST_EX(int, __RETURN_POLICY_SAME, _SWPRINTFS_DEPRECATED _CRTIMP, _swprintf, _swprintf_s, _vswprintf, vswprintf_s, _Pre_notnull_ _Post_z_, wchar_t, _Dest, _In_z_ _Printf_format_string_ const wchar_t *, _Format)</code><code class='inline-code'>__DEFINE_CPP_OVERLOAD_STANDARD_FUNC_0_2_ARGLIST_EX(int, __RETURN_POLICY_SAME, _SWPRINTFS_DEPRECATED _CRTIMP, __swprintf_l, __vswprintf_l, _vswprintf_s_l, _Pre_notnull_ _Post_z_ wchar_t, , wchar_t, _Dest, _In_z_ _Printf_format_string_ const wchar_t *, _Format, _locale_t, _Plocinfo)</code>#pragma <code class='inline-code'>warning(pop)</code></p><p>#if <code class='inline-code'>!defined(RC_INVOKED) && !defined(__midl)</code>#include <code class='inline-code'>&lt;swprintf.inl&gt;</code>#endif</p><p>#ifdef <code class='inline-code'>_CRT_NON_CONFORMING_SWPRINTFS</code>#ifndef <code class='inline-code'>__cplusplus</code>#define <code class='inline-code'>swprintf _swprintf</code>#define <code class='inline-code'>vswprintf _vswprintf</code>#define <code class='inline-code'>_swprintf_l __swprintf_l</code>#define <code class='inline-code'>_vswprintf_l __vswprintf_l</code>#endif#endif</p><p>#if <code class='inline-code'>defined(_DEBUG) && defined(_CRTDBG_MAP_ALLOC)</code>#pragma push<span class='font-italic'>macro("</span>wtempnam")#undef <code class='inline-code'>_wtempnam</code>#endif</p><p><code class='inline-code'>_Check_return_ _CRTIMP wchar_t * __cdecl _wtempnam(_In_opt_z_ const wchar_t * _Directory, _In_opt_z_ const wchar_t *</code> <span class='font-italic'>FilePrefix);</p><p>#if <code class='inline-code'>defined(_DEBUG) && defined(_CRTDBG_MAP_ALLOC)</code>#pragma pop<span class='font-italic'>macro("</span>wtempnam")#endif</p><p><code class='inline-code'>_Check_return_ _CRTIMP int __cdecl _vscwprintf(_In_z_ _Printf_format_string_ const wchar_t * _Format, va_list</code> <span class='font-italic'>ArgList);<code class='inline-code'>_Check_return_ _CRTIMP int __cdecl _vscwprintf_l(_In_z_ _Printf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale, va_list</code> </span>ArgList);<code class='inline-code'>_Check_return_ _CRT_INSECURE_DEPRECATE(fwscanf_s) _CRTIMP int __cdecl fwscanf(_Inout_ FILE * _File, _In_z_ _Scanf_format_string_ const wchar_t * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(_fwscanf_s_l) _CRTIMP int __cdecl _fwscanf_l(_Inout_ FILE * _File, _In_z_ _Scanf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl fwscanf_s(_Inout_ FILE * _File, _In_z_ _Scanf_s_format_string_ const wchar_t * _Format,</code> ...);#endif<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _fwscanf_s_l(_Inout_ FILE * _File, _In_z_ _Scanf_s_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_ _CRT_INSECURE_DEPRECATE(swscanf_s) _CRTIMP int __cdecl swscanf(_In_z_ const wchar_t * _Src, _In_z_ _Scanf_format_string_ const wchar_t * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(_swscanf_s_l) _CRTIMP int __cdecl _swscanf_l(_In_z_ const wchar_t * _Src, _In_z_ _Scanf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl swscanf_s(_In_z_ const wchar_t *_Src, _In_z_ _Scanf_s_format_string_ const wchar_t * _Format,</code> ...);#endif<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _swscanf_s_l(_In_z_ const wchar_t * _Src, _In_z_ _Scanf_s_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(_snwscanf_s) _CRTIMP int __cdecl _snwscanf(_In_count_(_MaxCount) _Pre_z_ const wchar_t * _Src, _In_ size_t _MaxCount, _In_z_ _Scanf_format_string_ const wchar_t * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(_snwscanf_s_l) _CRTIMP int __cdecl _snwscanf_l(_In_count_(_MaxCount) _Pre_z_ const wchar_t * _Src, _In_ size_t _MaxCount, _In_z_ _Scanf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _snwscanf_s(_In_count_(_MaxCount) _Pre_z_ const wchar_t * _Src, _In_ size_t _MaxCount, _In_z_ _Scanf_s_format_string_ const wchar_t * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _snwscanf_s_l(_In_count_(_MaxCount) _Pre_z_ const wchar_t * _Src, _In_ size_t _MaxCount, _In_z_ _Scanf_s_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);<code class='inline-code'>_Check_return_ _CRT_INSECURE_DEPRECATE(wscanf_s) _CRTIMP int __cdecl wscanf(_In_z_ _Scanf_format_string_ const wchar_t * _Format,</code> ...);<code class='inline-code'>_Check_return_opt_ _CRT_INSECURE_DEPRECATE(_wscanf_s_l) _CRTIMP int __cdecl _wscanf_l(_In_z_ _Scanf_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);#if <code class='inline-code'>__STDC_WANT_SECURE_LIB__</code><code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl wscanf_s(_In_z_ _Scanf_s_format_string_ const wchar_t * _Format,</code> ...);#endif<code class='inline-code'>_Check_return_opt_ _CRTIMP_ALTERNATIVE int __cdecl _wscanf_s_l(_In_z_ _Scanf_s_format_string_ const wchar_t * _Format, _In_opt_ _locale_t _Locale,</code> ...);#pragma <code class='inline-code'>warning(pop)</code></p><p><code class='inline-code'>_Check_return_ _CRTIMP FILE * __cdecl _wfdopen(_In_ int _FileHandle , _In_z_ const wchar_t *</code> <span class='font-italic'>Mode);<code class='inline-code'>_Check_return_ _CRT_INSECURE_DEPRECATE(_wfopen_s) _CRTIMP FILE * __cdecl _wfopen(_In_z_ const wchar_t * _Filename, _In_z_ const wchar_t *</code> </span>Mode);<code class='inline-code'>_Check_return_wat_ _CRTIMP errno_t __cdecl _wfopen_s(_Deref_out_opt_ FILE ** _File, _In_z_ const wchar_t * _Filename, _In_z_ const wchar_t *</code> <span class='font-italic'>Mode);<code class='inline-code'>_Check_return_ _CRT_INSECURE_DEPRECATE(_wfreopen_s) _CRTIMP FILE * __cdecl _wfreopen(_In_z_ const wchar_t * _Filename, _In_z_ const wchar_t * _Mode, _Inout_ FILE *</code> </span>OldFile);<code class='inline-code'>_Check_return_wat_ _CRTIMP errno_t __cdecl _wfreopen_s(_Deref_out_opt_ FILE ** _File, _In_z_ const wchar_t * _Filename, _In_z_ const wchar_t * _Mode, _Inout_ FILE *</code> <span class='font-italic'>OldFile);</p><p>#ifndef <code class='inline-code'>_CRT_WPERROR_DEFINED</code>#define <code class='inline-code'>_CRT_WPERROR_DEFINED</code><code class='inline-code'>_CRTIMP void __cdecl _wperror(_In_opt_z_ const wchar_t *</code> <span class='font-italic'>ErrMsg);#endif<code class='inline-code'>_Check_return_ _CRTIMP FILE * __cdecl _wpopen(_In_z_ const wchar_t *_Command, _In_z_ const wchar_t *</code> </span>Mode);<code class='inline-code'>_Check_return_ _CRTIMP int __cdecl _wremove(_In_z_ const wchar_t *</code> <span class='font-italic'>Filename);<code class='inline-code'>_Check_return_wat_ _CRTIMP errno_t __cdecl _wtmpnam_s(_Out_z_cap_(_SizeInWords) wchar_t * _DstBuf, _In_ size_t</code> </span>SizeInWords);<code class='inline-code'>__DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_0(errno_t, _wtmpnam_s, _Deref_post_z_ wchar_t, _Buffer)</code><code class='inline-code'>__DEFINE_CPP_OVERLOAD_STANDARD_FUNC_0_0(wchar_t *, __RETURN_POLICY_DST, _CRTIMP, _wtmpnam, _Pre_maybenull_ _Post_z_, wchar_t, _Buffer)</code></p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP wint_t __cdecl _fgetwc_nolock(_Inout_ FILE *</code> <span class='font-italic'>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP wint_t __cdecl _fputwc_nolock(_In_ wchar_t _Ch, _Inout_ FILE *</code> </span>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP wint_t __cdecl _ungetwc_nolock(_In_ wint_t _Ch, _Inout_ FILE *</code> <span class='font-italic'>File);</p><p>#undef <code class='inline-code'>_CRT_GETPUTWCHAR_NOINLINE</code></p><p>#if <code class='inline-code'>!defined(__cplusplus) || defined(_M_CEE_PURE) || defined(_CRT_GETPUTWCHAR_NOINLINE)</code>#define getwchar()      <code class='inline-code'>fgetwc(stdin)</code>#define putwchar(<span class='font-italic'>c)    <code class='inline-code'>fputwc((_c),stdout)</code>#else   <code class='inline-code'>/* __cplusplus */</code><code class='inline-code'>inline wint_t __CRTDECL getwchar()</code>        <code class='inline-code'>{return</code> (fgetwc(stdin)); }   <code class='inline-code'>/* stdin */</code><code class='inline-code'>inline wint_t __CRTDECL putwchar(wchar_t _C)</code>        <code class='inline-code'>{return (fputwc(_C, stdout));</code> }       <code class='inline-code'>/* stdout */</code>#endif  <code class='inline-code'>/* __cplusplus */</code></p><p>#define getwc(<span class='font-italic'>stm)             <code class='inline-code'>fgetwc(_stm)</code>#define putwc(</span>c,<span class='font-italic'>stm)          <code class='inline-code'>fputwc(_c,_stm)</code>#define </span>putwc<span class='font-italic'>nolock(</span>c,<span class='font-italic'>stm)     <code class='inline-code'>_fputwc_nolock(_c,_stm)</code>#define </span>getwc<span class='font-italic'>nolock(</span>stm)        <code class='inline-code'>_fgetwc_nolock(_stm)</code></p><p>#if <code class='inline-code'>defined(_CRT_DISABLE_PERFCRIT_LOCKS) && !defined(_DLL)</code>#define fgetwc(<span class='font-italic'>stm)            <code class='inline-code'>_getwc_nolock(_stm)</code>#define fputwc(</span>c,<span class='font-italic'>stm)         <code class='inline-code'>_putwc_nolock(_c,_stm)</code>#define ungetwc(</span>c,<span class='font-italic'>stm)        <code class='inline-code'>_ungetwc_nolock(_c,_stm)</code>#endif</p><p>#define <code class='inline-code'>_WSTDIO_DEFINED</code>#endif  <code class='inline-code'>/* _WSTDIO_DEFINED */</code></p><p>#define <code class='inline-code'>_STDIO_DEFINED</code>#endif  <code class='inline-code'>/* _STDIO_DEFINED */</code></p><p><code class='inline-code'>/* Macro definitions */</code></p><p>#if <code class='inline-code'>defined(_CRT_DISABLE_PERFCRIT_LOCKS) && !defined(_DLL)</code>#define feof(<span class='font-italic'>stream)     ((</span>stream)-><span class='font-italic'>flag <code class='inline-code'>& _IOEOF)</code>#define ferror(</span>stream)   ((<span class='font-italic'>stream)-></span>flag <code class='inline-code'>& _IOERR)</code>#define <span class='font-italic'>fileno(</span>stream)  ((<span class='font-italic'>stream)-></span>file)#define fgetc(<span class='font-italic'>stream)     (--(</span>stream)-><span class='font-italic'>cnt <code class='inline-code'>&gt;= 0</code> \                <code class='inline-code'>? 0xff & *(_stream)-&gt;_ptr++</code> : <code class='inline-code'>_filbuf(_stream))</code>#define putc(</span>c,<span class='font-italic'>stream)  (--(</span>stream)-><span class='font-italic'>cnt <code class='inline-code'>&gt;= 0</code> \                <code class='inline-code'>? 0xff & (*(_stream)-&gt;_ptr++ = (char)(_c))</code> :  <code class='inline-code'>_flsbuf((_c),(_stream)))</code>#define getc(</span>stream)    <code class='inline-code'>fgetc(_stream)</code>#define getchar()         <code class='inline-code'>getc(stdin)</code>#define putchar(<span class='font-italic'>c)       <code class='inline-code'>putc((_c),stdout)</code>#endif</p><p>#define <span class='font-italic'>fgetc</span>nolock(<span class='font-italic'>stream)       (--(</span>stream)-><span class='font-italic'>cnt <code class='inline-code'>&gt;= 0 ? 0xff & *(_stream)-&gt;_ptr++</code> : <code class='inline-code'>_filbuf(_stream))</code>#define </span>fputc<span class='font-italic'>nolock(</span>c,<span class='font-italic'>stream)    (--(</span>stream)-><span class='font-italic'>cnt <code class='inline-code'>&gt;= 0 ? 0xff & (*(_stream)-&gt;_ptr++ = (char)(_c))</code> :  <code class='inline-code'>_flsbuf((_c),(_stream)))</code>#define </span>getc<span class='font-italic'>nolock(</span>stream)       <code class='inline-code'>_fgetc_nolock(_stream)</code>#define <code class='inline-code'>_putc_nolock(_c,</code> <span class='font-italic'>stream)   <code class='inline-code'>_fputc_nolock(_c, _stream)</code>#define </span>getchar<span class='font-italic'>nolock()           <code class='inline-code'>_getc_nolock(stdin)</code>#define </span>putchar<span class='font-italic'>nolock(</span>c)         <code class='inline-code'>_putc_nolock((_c),stdout)</code>#define <span class='font-italic'>getwchar</span>nolock()          <code class='inline-code'>_getwc_nolock(stdin)</code>#define <span class='font-italic'>putwchar</span>nolock(<span class='font-italic'>c)        <code class='inline-code'>_putwc_nolock((_c),stdout)</code></p><p>#ifdef <code class='inline-code'>_MT</code><code class='inline-code'>_CRTIMP void __cdecl _lock_file(_Inout_ FILE *</code> <span class='font-italic'>File);<code class='inline-code'>_CRTIMP void __cdecl _unlock_file(_Inout_ FILE *</code> </span>File);#else#define <code class='inline-code'>_lock_file(c)</code>#define <code class='inline-code'>_unlock_file(c)</code>#endif</p><p><code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _fclose_nolock(_Inout_ FILE *</code> <span class='font-italic'>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _fflush_nolock(_Inout_opt_ FILE *</code> </span>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP size_t __cdecl _fread_nolock(_Out_bytecap_x_(_ElementSize*_Count) void * _DstBuf, _In_ size_t _ElementSize, _In_ size_t _Count, _Inout_ FILE *</code> <span class='font-italic'>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP size_t __cdecl _fread_nolock_s(_Out_bytecap_x_(_ElementSize*_Count) void * _DstBuf, _In_ size_t _DstSize, _In_ size_t _ElementSize, _In_ size_t _Count, _Inout_ FILE *</code> </span>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _fseek_nolock(_Inout_ FILE * _File, _In_ long _Offset, _In_ int</code> <span class='font-italic'>Origin);<code class='inline-code'>_Check_return_ _CRTIMP long __cdecl _ftell_nolock(_Inout_ FILE *</code> </span>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _fseeki64_nolock(_Inout_ FILE * _File, _In_ __int64 _Offset, _In_ int</code> <span class='font-italic'>Origin);<code class='inline-code'>_Check_return_ _CRTIMP __int64 __cdecl _ftelli64_nolock(_Inout_ FILE *</code> </span>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP size_t __cdecl _fwrite_nolock(_In_bytecount_x_(_Size*_Count) const void * _DstBuf, _In_ size_t _Size, _In_ size_t _Count, _Inout_ FILE *</code> <span class='font-italic'>File);<code class='inline-code'>_Check_return_opt_ _CRTIMP int __cdecl _ungetc_nolock(_In_ int _Ch, _Inout_ FILE *</code> </span>File);</p><p>#if <code class='inline-code'>defined(_CRT_DISABLE_PERFCRIT_LOCKS) && !defined(_DLL)</code>#define fclose(<span class='font-italic'>stm)                                            <code class='inline-code'>_fclose_nolock(_stm)</code>#define fflush(</span>stm)                                            <code class='inline-code'>_fflush_nolock(_stm)</code>#define <code class='inline-code'>fread(_DstBuf, _ElementSize, _Count,</code> <span class='font-italic'>File)             <code class='inline-code'>_fread_nolock(_DstBuf, _ElementSize, _Count, _File)</code>#define <code class='inline-code'>fread_s(_DstBuf, _DstSize, _ElementSize, _Count, _File) _fread_nolock_s(_DstBuf, _DstSize, _ElementSize, _Count, _File)</code>#define fseek(</span>stm,<span class='font-italic'>offset,</span>origin)                             <code class='inline-code'>_fseek_nolock(_stm,_offset,_origin)</code>#define ftell(<span class='font-italic'>stm)                                             <code class='inline-code'>_ftell_nolock(_stm)</code>#define </span>fseeki64(<span class='font-italic'>stm,</span>offset,<span class='font-italic'>origin)                         <code class='inline-code'>_fseeki64_nolock(_stm,_offset,_origin)</code>#define </span>ftelli64(<span class='font-italic'>stm)                                         <code class='inline-code'>_ftelli64_nolock(_stm)</code>#define fwrite(</span>buf,<span class='font-italic'>siz,</span>cnt,<span class='font-italic'>stm)                             <code class='inline-code'>_fwrite_nolock(_buf,_siz,_cnt,_stm)</code>#define ungetc(</span>c,<span class='font-italic'>stm)                                         <code class='inline-code'>_ungetc_nolock(_c,_stm)</code>#endif</p><p>#if     <code class='inline-code'>!__STDC__ && !defined(_POSIX_)</code></p><p><code class='inline-code'>/* Non-ANSI names for compatibility */</code></p><p>#define P<span class='font-italic'>tmpdir  <code class='inline-code'>_P_tmpdir</code>#define SYS</span>OPEN  <code class='inline-code'>_SYS_OPEN</code></p><p>#if <code class='inline-code'>defined(_DEBUG) && defined(_CRTDBG_MAP_ALLOC)</code>#pragma push<span class='font-italic'>macro("tempnam")#undef <code class='inline-code'>tempnam</code>#endif</p><p><code class='inline-code'>_CRT_NONSTDC_DEPRECATE(_tempnam) _CRTIMP char * __cdecl tempnam(_In_opt_z_ const char * _Directory, _In_opt_z_ const char *</code> <span class='font-italic'>FilePrefix);</p><p>#if <code class='inline-code'>defined(_DEBUG) && defined(_CRTDBG_MAP_ALLOC)</code>#pragma pop<span class='font-italic'>macro("tempnam")#endif</p><p><code class='inline-code'>_Check_return_opt_ _CRT_NONSTDC_DEPRECATE(_fcloseall) _CRTIMP int __cdecl</code> fcloseall(void);<code class='inline-code'>_Check_return_ _CRT_NONSTDC_DEPRECATE(_fdopen) _CRTIMP FILE * __cdecl fdopen(_In_ int _FileHandle, _In_z_ const char *</code> <span class='font-italic'>Format);<code class='inline-code'>_Check_return_opt_ _CRT_NONSTDC_DEPRECATE(_fgetchar) _CRTIMP int __cdecl</code> fgetchar(void);<code class='inline-code'>_Check_return_ _CRT_NONSTDC_DEPRECATE(_fileno) _CRTIMP int __cdecl fileno(_In_ FILE *</code> </span>File);<code class='inline-code'>_Check_return_opt_ _CRT_NONSTDC_DEPRECATE(_flushall) _CRTIMP int __cdecl</code> flushall(void);<code class='inline-code'>_Check_return_opt_ _CRT_NONSTDC_DEPRECATE(_fputchar) _CRTIMP int __cdecl fputchar(_In_ int</code> <span class='font-italic'>Ch);<code class='inline-code'>_Check_return_ _CRT_NONSTDC_DEPRECATE(_getw) _CRTIMP int __cdecl getw(_Inout_ FILE *</code> </span>File);<code class='inline-code'>_Check_return_opt_ _CRT_NONSTDC_DEPRECATE(_putw) _CRTIMP int __cdecl putw(_In_ int _Ch, _Inout_ FILE *</code> <span class='font-italic'>File);<code class='inline-code'>_Check_return_ _CRT_NONSTDC_DEPRECATE(_rmtmp) _CRTIMP int __cdecl</code> rmtmp(void);</p><p>#endif  <code class='inline-code'>/* __STDC__ */</code></p><p>#ifdef  <code class='inline-code'>__cplusplus</code><code class='inline-code'>}</code>#endif</p><p>#ifdef  <code class='inline-code'>_MSC_VER</code>#pragma <code class='inline-code'>pack(pop)</code>#endif  <code class='inline-code'>/* _MSC_VER */</code></p><p>#endif  <code class='inline-code'>/* _INC_STDIO */</code></p><p>만일 헤더 파일이라는 것이 존재하지 않았더라면 우리는 <code class='inline-code'>printf</code> 함수를 이용하기 위해서 위 모든 내용은 아니지만 적어도 <code class='inline-code'>printf</code> 함수의 원형을 써주어야 하는데 이는</p><pre class="chroma"><span class="n">_Check_return_opt_</span> <span class="n">_CRTIMP</span> <span class="kt">int</span> <span class="kr">__cdecl</span> <span class="nf">printf</span><span class="p">(</span>
    <span class="n">_In_z_</span> <span class="n">_Printf_format_string_</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">_Format</span><span class="p">,</span> <span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">)</span><span class="p">;</span>
</pre><p>로 무지하게 복잡합니다. 아무튼, 이렇게 <code class='inline-code'>printf, scanf</code> 함수와 같이 매 함수를 쓰기 위해서 위 모든 내용을 쓰는 것 대신에 헤더파일 <code class='inline-code'>include</code> 하나로 간단하게 해결할 수 있습니다.</p><p>보통 헤더파일을 만들 때 에는 그 헤더파일에 있는 함수들이 정의되어 있는 소스 파일의 이름을 따서 짓는 것이 보통입니다. 위 경우 <code class='inline-code'>str.h</code> 에 선언되어 있는 함수들이 모두 <code class='inline-code'>str.c</code> 에 정의되어 있으므로 헤더파일의 이름을 <code class='inline-code'>str.h</code> 로 하였습니다. 또한 한 가지 흥미로운 점은 <code class='inline-code'>str.c</code> 에서도 <code class='inline-code'>str.h</code> 를 <code class='inline-code'>include</code> 하고 있다는 점입니다.</p><p>이는 다음과 같은 상황을 방지할 수 있습니다.</p><pre class='info'>/* something.c */
int A() {
  B();
  return 0;
}
int B() { return 1; }
</pre><p>만일 <code class='inline-code'>something.c</code> 라는 파일에 위와 같은 소스가 있다고 합시다. 이는 <code class='inline-code'>100%</code> 오류가 발생됩니다. 왜냐하면 <code class='inline-code'>A()</code> 함수에서 <code class='inline-code'>B()</code> 를 호출할 때 <code class='inline-code'>B</code> 가 무엇인지 뭔지 모르므로 오류가 발생하게 되는 것이지요. (이는 함수 단원에서 공부한 한 바 입니다) 다시 말해 <code class='inline-code'>B()</code> 를 위에 선언 해주어야 합니다. 아래와 같이요.</p><pre class='info'>/* something.c */
int B();
int A() {
  B();
  return 0;
}
int B() { return 1; }
</pre><p>하지만 헤더파일을 배웠으니 차라리 이렇게 할 바에는 아래와 같이 하는 것이 훨씬 낫을 것이라는 거죠.</p><pre class='info'>/* something.c */
#include "something.h"
int A() {
  B();
  return 0;
}
int B() { return 1; }
</pre><pre class='info'>/* something.h*/

int A();
int B();
</pre><p>이와 같은 이유로 <code class='inline-code'>str.c</code> 에서도 (이 경우 꼭 필요는 없었지만) <code class='inline-code'>str.h</code> 를 <code class='inline-code'>include</code> 해준 것입니다.</p><p>도서 관리 프로그램 리모델링</p><p>그렇다면 이번에는 여태까지 쌓은 지식을 바탕으로 이전에 만들었던 도서 관리 프로그램을 파일을 나누어서 깔끔하게 만들어봅시다.</p><p>아래는 기존의 소스 입니다.</p><pre class="chroma"><span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span><span class="cp"></span><span class="kt">int</span> <span class="nf">add_book</span><span class="p">(</span><span class="kt">char</span> <span class="p">(</span><span class="o">*</span><span class="n">book_name</span><span class="p">)</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="p">,</span> <span class="kt">char</span> <span class="p">(</span><span class="o">*</span><span class="n">auth_name</span><span class="p">)</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="p">,</span>
             <span class="kt">char</span> <span class="p">(</span><span class="o">*</span><span class="n">publ_name</span><span class="p">)</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">borrowed</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">num_total_book</span><span class="p">)</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">search_book</span><span class="p">(</span><span class="kt">char</span> <span class="p">(</span><span class="o">*</span><span class="n">book_name</span><span class="p">)</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="p">,</span> <span class="kt">char</span> <span class="p">(</span><span class="o">*</span><span class="n">auth_name</span><span class="p">)</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="p">,</span>
                <span class="kt">char</span> <span class="p">(</span><span class="o">*</span><span class="n">publ_name</span><span class="p">)</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num_total_book</span><span class="p">)</span><span class="p">;</span>

<span class="kt">char</span> <span class="nf">compare</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str1</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str2</span><span class="p">)</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">borrow_book</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">borrowed</span><span class="p">)</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">return_book</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">borrowed</span><span class="p">)</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">user_choice</span><span class="p">;</span>        <span class="cm">/* 유저가 선택한 메뉴 */</span>
  <span class="kt">int</span> <span class="n">num_total_book</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="cm">/* 현재 책의 수 */</span>

  <span class="cm">/* 각각 책, 저자, 출판사를 저장할 배열 생성. 책의 최대 개수는 100 권*/</span>
  <span class="kt">char</span> <span class="n">book_name</span><span class="p">[</span><span class="mi">100</span><span class="p">]</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="p">,</span> <span class="n">auth_name</span><span class="p">[</span><span class="mi">100</span><span class="p">]</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="p">,</span> <span class="n">publ_name</span><span class="p">[</span><span class="mi">100</span><span class="p">]</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="p">;</span>
  <span class="cm">/* 빌렸는지 상태를 표시 */</span>
  <span class="kt">int</span> <span class="n">borrowed</span><span class="p">[</span><span class="mi">100</span><span class="p">]</span><span class="p">;</span>

  <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">도서 관리 프로그램 </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">메뉴를 선택하세요 </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">1. 책을 새로 추가하기 </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">2. 책을 검색하기 </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">3. 책을 빌리기 </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">4. 책을 반납하기 </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">5. 프로그램 종료 </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>

    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">당신의 선택은 : </span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
    <span class="n">scanf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%d</span><span class="s">&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">user_choice</span><span class="p">)</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">user_choice</span> <span class="o">=</span><span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="cm">/* 책을 새로 추가하는 함수 호출 */</span>
      <span class="n">add_book</span><span class="p">(</span><span class="n">book_name</span><span class="p">,</span> <span class="n">auth_name</span><span class="p">,</span> <span class="n">publ_name</span><span class="p">,</span> <span class="n">borrowed</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">num_total_book</span><span class="p">)</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">user_choice</span> <span class="o">=</span><span class="o">=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
      <span class="cm">/* 책을 검색하는 함수 호출 */</span>
      <span class="n">search_book</span><span class="p">(</span><span class="n">book_name</span><span class="p">,</span> <span class="n">auth_name</span><span class="p">,</span> <span class="n">publ_name</span><span class="p">,</span> <span class="n">num_total_book</span><span class="p">)</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">user_choice</span> <span class="o">=</span><span class="o">=</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
      <span class="cm">/* 책을 빌리는 함수 호출 */</span>
      <span class="n">borrow_book</span><span class="p">(</span><span class="n">borrowed</span><span class="p">)</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">user_choice</span> <span class="o">=</span><span class="o">=</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
      <span class="cm">/* 책을 반납하는 함수 호출 */</span>
      <span class="n">return_book</span><span class="p">(</span><span class="n">borrowed</span><span class="p">)</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">user_choice</span> <span class="o">=</span><span class="o">=</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
      <span class="cm">/* 프로그램을 종료한다. */</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/* 책을 추가하는 함수*/</span>
<span class="kt">int</span> <span class="nf">add_book</span><span class="p">(</span><span class="kt">char</span> <span class="p">(</span><span class="o">*</span><span class="n">book_name</span><span class="p">)</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="p">,</span> <span class="kt">char</span> <span class="p">(</span><span class="o">*</span><span class="n">auth_name</span><span class="p">)</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="p">,</span>
             <span class="kt">char</span> <span class="p">(</span><span class="o">*</span><span class="n">publ_name</span><span class="p">)</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">borrowed</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">num_total_book</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">추가할 책의 제목 : </span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
  <span class="n">scanf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%s</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">book_name</span><span class="p">[</span><span class="o">*</span><span class="n">num_total_book</span><span class="p">]</span><span class="p">)</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">추가할 책의 저자 : </span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
  <span class="n">scanf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%s</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">auth_name</span><span class="p">[</span><span class="o">*</span><span class="n">num_total_book</span><span class="p">]</span><span class="p">)</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">추가할 책의 출판사 : </span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
  <span class="n">scanf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%s</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">publ_name</span><span class="p">[</span><span class="o">*</span><span class="n">num_total_book</span><span class="p">]</span><span class="p">)</span><span class="p">;</span>

  <span class="n">borrowed</span><span class="p">[</span><span class="o">*</span><span class="n">num_total_book</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="cm">/* 빌려지지 않음*/</span>
  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">추가 완료! </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
  <span class="p">(</span><span class="o">*</span><span class="n">num_total_book</span><span class="p">)</span><span class="o">+</span><span class="o">+</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/* 책을 검색하는 함수 */</span>
<span class="kt">int</span> <span class="nf">search_book</span><span class="p">(</span><span class="kt">char</span> <span class="p">(</span><span class="o">*</span><span class="n">book_name</span><span class="p">)</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="p">,</span> <span class="kt">char</span> <span class="p">(</span><span class="o">*</span><span class="n">auth_name</span><span class="p">)</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="p">,</span>
                <span class="kt">char</span> <span class="p">(</span><span class="o">*</span><span class="n">publ_name</span><span class="p">)</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num_total_book</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">user_input</span><span class="p">;</span> <span class="cm">/* 사용자의 입력을 받는다. */</span>
  <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">user_search</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">어느 것으로 검색 할 것인가요? </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">1. 책 제목 검색 </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">2. 지은이 검색 </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">3. 출판사 검색 </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
  <span class="n">scanf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%d</span><span class="s">&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">user_input</span><span class="p">)</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">검색할 단어를 입력해주세요 : </span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
  <span class="n">scanf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%s</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">user_search</span><span class="p">)</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">검색 결과 </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">user_input</span> <span class="o">=</span><span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="cm">/*
</span><span class="cm">
</span><span class="cm">    i 가 0 부터 num_total_book 까지 가면서 각각의 책 제목을
</span><span class="cm">    사용자가 입력한 검색어와 비교하고 있다.
</span><span class="cm">
</span><span class="cm">    */</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num_total_book</span><span class="p">;</span> <span class="n">i</span><span class="o">+</span><span class="o">+</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">compare</span><span class="p">(</span><span class="n">book_name</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="p">,</span> <span class="n">user_search</span><span class="p">)</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">번호 : %d // 책 이름 : %s // 지은이 : %s // 출판사 : %s </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span>
               <span class="n">book_name</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="p">,</span> <span class="n">auth_name</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="p">,</span> <span class="n">publ_name</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="p">)</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>

  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">user_input</span> <span class="o">=</span><span class="o">=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
    <span class="cm">/*
</span><span class="cm">
</span><span class="cm">    i 가 0 부터 num_total_book 까지 가면서 각각의 지은이 이름을
</span><span class="cm">    사용자가 입력한 검색어와 비교하고 있다.
</span><span class="cm">
</span><span class="cm">    */</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num_total_book</span><span class="p">;</span> <span class="n">i</span><span class="o">+</span><span class="o">+</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">compare</span><span class="p">(</span><span class="n">auth_name</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="p">,</span> <span class="n">user_search</span><span class="p">)</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">번호 : %d // 책 이름 : %s // 지은이 : %s // 출판사 : %s </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span>
               <span class="n">book_name</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="p">,</span> <span class="n">auth_name</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="p">,</span> <span class="n">publ_name</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="p">)</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>

  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">user_input</span> <span class="o">=</span><span class="o">=</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
    <span class="cm">/*
</span><span class="cm">
</span><span class="cm">    i 가 0 부터 num_total_book 까지 가면서 각각의 출판사를
</span><span class="cm">    사용자가 입력한 검색어와 비교하고 있다.
</span><span class="cm">
</span><span class="cm">    */</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num_total_book</span><span class="p">;</span> <span class="n">i</span><span class="o">+</span><span class="o">+</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">compare</span><span class="p">(</span><span class="n">publ_name</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="p">,</span> <span class="n">user_search</span><span class="p">)</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">번호 : %d // 책 이름 : %s // 지은이 : %s // 출판사 : %s </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span>
               <span class="n">book_name</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="p">,</span> <span class="n">auth_name</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="p">,</span> <span class="n">publ_name</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="p">)</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">char</span> <span class="nf">compare</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str1</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str2</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">while</span> <span class="p">(</span><span class="o">*</span><span class="n">str1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">str1</span> <span class="o">!</span><span class="o">=</span> <span class="o">*</span><span class="n">str2</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">str1</span><span class="o">+</span><span class="o">+</span><span class="p">;</span>
    <span class="n">str2</span><span class="o">+</span><span class="o">+</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">str2</span> <span class="o">=</span><span class="o">=</span> <span class="sa"></span><span class="sc">&#39;</span><span class="sc">\0</span><span class="sc">&#39;</span><span class="p">)</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">borrow_book</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">borrowed</span><span class="p">)</span> <span class="p">{</span>
  <span class="cm">/* 사용자로 부터 책번호를 받을 변수*/</span>
  <span class="kt">int</span> <span class="n">book_num</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">빌릴 책의 번호를 말해주세요 </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">책 번호 : </span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
  <span class="n">scanf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%d</span><span class="s">&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">book_num</span><span class="p">)</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">borrowed</span><span class="p">[</span><span class="n">book_num</span><span class="p">]</span> <span class="o">=</span><span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">이미 대출된 책입니다! </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">책이 성공적으로 대출되었습니다. </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
    <span class="n">borrowed</span><span class="p">[</span><span class="n">book_num</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">return_book</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">borrowed</span><span class="p">)</span> <span class="p">{</span>
  <span class="cm">/* 반납할 책의 번호 */</span>
  <span class="kt">int</span> <span class="n">num_book</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">반납할 책의 번호를 써주세요 </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">책 번호 : </span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
  <span class="n">scanf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">%d</span><span class="s">&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">num_book</span><span class="p">)</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">borrowed</span><span class="p">[</span><span class="n">num_book</span><span class="p">]</span> <span class="o">=</span><span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">이미 반납되어 있는 상태입니다</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">borrowed</span><span class="p">[</span><span class="n">num_book</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">성공적으로 반납되었습니다</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><p>파일들로 나누기 전에 가장 먼저 고려해야 할 사실은 바로 '어떠한 파일들로 나눌 것인가?’ 입니다. 파일을 나눌 때 가장 먼저 살펴보아야 할 점은 각 파일들을 특정한 역할을 가지도록 나누는 것인데 우리의 프로그램의 경우 다음과 같이 나누면 될 것 같습니다.<code class='inline-code'>main</code> 함수를 가지는 <code class='inline-code'>test.c ,</code> 도서 관리 함수들을 가지는 <code class='inline-code'>book_function.c,</code> 그리고 문자열 관리 함수를 가지는 <code class='inline-code'>str.c</code> 로 나누면 될 것 같습니다. 따라서 <code class='inline-code'>book_function.h</code> 와 <code class='inline-code'>str.h</code> 라는 헤더파일도 가지겠네요.먼저 가장 단순한 <code class='inline-code'>str.c</code> 부터 봅시다. <code class='inline-code'>str.c</code> 에는 <code class='inline-code'>compare</code> 함수가 들어가면 적당할 것 같습니다.<span class='font-weight-bold'></p><p>/<span class='font-italic'> str.c </span>/#include "str.h"char compare(char <span class='font-italic'>str1, char </span>str2){    while (<span class='font-italic'>str1)    {        if(</span>str1 != <span class='font-italic'>str2)        {            return 0;        }        str1++;        str2++;    }    if(</span>str2 == '\0')        return 1;    return 0;}</p><pre class="chroma">

또한 `str.h` 에는 `compare` 함수의 원형이 선언되어 있죠.
</pre><p>cpp</p><p>/<span class='font-italic'> str.h </span>/char compare(char <span class='font-italic'>str1, char </span>str2);</p><pre class="chroma">

그럼 이제, 책들을 처리하는 함수들을 모아놓은 `book_function.c` 를 살펴봅시다
               .단순하게 생각해보면 아래와 같이 하면 될 것 같습니다.
</pre><p>cpp</p><p>#include "book<span class='font-italic'>function.h"/</span> 책을 추가하는 함수<span class='font-italic'>/int add</span>book(char (<span class='font-italic'>book</span>name)[30], char (<span class='font-italic'>auth</span>name)[30], char (<span class='font-italic'>publ</span>name)[30],             int <span class='font-italic'>borrowed, int </span>num<span class='font-italic'>total</span>book){    printf("추가할 책의 제목 : ");    scanf("%s", book<span class='font-italic'>name[</span>num<span class='font-italic'>total</span>book]);    printf("추가할 책의 저자 : ");    scanf("%s", auth<span class='font-italic'>name[</span>num<span class='font-italic'>total</span>book]);</p><p>    printf("추가할 책의 출판사 : ");    scanf("%s", publ<span class='font-italic'>name[</span>num<span class='font-italic'>total</span>book]);    borrowed[<span class='font-italic'>num</span>total<span class='font-italic'>book] = 0; /</span> 빌려지지 않음<span class='font-italic'>/    printf("추가 완료! \n");    (</span>num<span class='font-italic'>total</span>book)++;    return 0;}/<span class='font-italic'> 책을 검색하는 함수 </span>/int search<span class='font-italic'>book(char (</span>book<span class='font-italic'>name)[30], char (</span>auth<span class='font-italic'>name)[30],                char (</span>publ<span class='font-italic'>name)[30], int num</span>total<span class='font-italic'>book){    int user</span>input; /<span class='font-italic'> 사용자의 입력을 받는다. </span>/    int i;    char user<span class='font-italic'>search[30];    printf("어느 것으로 검색 할 것인가요? \n");    printf("1. 책 제목 검색 \n");    printf("2. 지은이 검색 \n");    printf("3. 출판사 검색 \n");    scanf("%d", &user</span>input);    printf("검색할 단어를 입력해주세요 : ");    scanf("%s", user<span class='font-italic'>search);    printf("검색 결과 \n");    if(user</span>input == 1)    {        /<span class='font-italic'>        i 가 0 부터 num</span>total<span class='font-italic'>book 까지 가면서 각각의 책 제목을        사용자가 입력한 검색어와 비교하고 있다.        </span>/        for(i = 0;i < num<span class='font-italic'>total</span>book; i++)        {            if(compare(book<span class='font-italic'>name[i], user</span>search))            {                printf("번호 : %d // 책 이름 : %s // 지은이 : %s // 출판사 : %s \n",                    i, book<span class='font-italic'>name[i], auth</span>name[i], publ<span class='font-italic'>name[i] );            }        }    }    else if(user</span>input == 2)    {        /<span class='font-italic'>        i 가 0 부터 num</span>total<span class='font-italic'>book 까지 가면서 각각의 지은이 이름을        사용자가 입력한 검색어와 비교하고 있다.        </span>/        for(i = 0;i < num<span class='font-italic'>total</span>book; i++)        {            if(compare(auth<span class='font-italic'>name[i], user</span>search))            {                printf("번호 : %d // 책 이름 : %s // 지은이 : %s // 출판사 : %s \n",                    i, book<span class='font-italic'>name[i], auth</span>name[i], publ<span class='font-italic'>name[i] );            }        }</p><p>    }    else if(user<span class='font-italic'>input == 3)    {        /</span>        i 가 0 부터 num<span class='font-italic'>total</span>book 까지 가면서 각각의 출판사를        사용자가 입력한 검색어와 비교하고 있다.        <span class='font-italic'>/        for(i = 0;i < num</span>total<span class='font-italic'>book; i++)        {            if(compare(publ</span>name[i], user<span class='font-italic'>search))            {                printf("번호 : %d // 책 이름 : %s // 지은이 : %s // 출판사 : %s \n",                    i, book</span>name[i], auth<span class='font-italic'>name[i], publ</span>name[i] );            }        }    }    return 0;}int borrow<span class='font-italic'>book(int </span>borrowed){    /<span class='font-italic'> 사용자로 부터 책번호를 받을 변수</span>/    int book<span class='font-italic'>num;    printf("빌릴 책의 번호를 말해주세요 \n");    printf("책 번호 : ");    scanf("%d", &book</span>num);    if(borrowed[book<span class='font-italic'>num] == 1)    {        printf("이미 대출된 책입니다! \n");    }    else    {        printf("책이 성공적으로 대출되었습니다. \n");        borrowed[book</span>num] = 1;    }    return 0;}int return<span class='font-italic'>book(int </span>borrowed){    /<span class='font-italic'> 반납할 책의 번호 </span>/    int num<span class='font-italic'>book;    printf("반납할 책의 번호를 써주세요 \n");    printf("책 번호 : ");    scanf("%d", &num</span>book);    if(borrowed[num<span class='font-italic'>book] == 0)    {        printf("이미 반납되어 있는 상태입니다\n");    }    else    {        borrowed[num</span>book] = 0;        printf("성공적으로 반납되었습니다\n");    }    return 0;}</p><pre class="chroma">

그런데 이렇게 하게 되면 `100%` 오류가 발생하게 됩니다. 왜냐하면 `add_book` 함수의 경우만 보아도 `printf` 함수와 `scanf` 함수를 사용하고 있기 때문이죠. 이 함수들을 사용하기 위해서는 `stdio.h` 를 꼭 `include` 해주어야 합니다. 뿐만 아니라 `search_book` 함수의 경우 `compare` 함수를 호출하고 있는데 이 때문에 역시 `str.h` 를 `include` 해주어야 합니다. 따라서 올바른 `book_function.c` 의 모습은 아래와 같이 되어야 합니다.
</pre><p>cpp</p><p>/<span class='font-italic'> book</span>function.c  <span class='font-italic'>/#include <stdio.h>#include "str.h"#include "book</span>function.h"/<span class='font-italic'> 책을 추가하는 함수</span>/int add<span class='font-italic'>book(char (</span>book<span class='font-italic'>name)[30], char (</span>auth<span class='font-italic'>name)[30], char (</span>publ<span class='font-italic'>name)[30],             int </span>borrowed, int <span class='font-italic'>num</span>total<span class='font-italic'>book){    printf("추가할 책의 제목 : ");    scanf("%s", book</span>name[<span class='font-italic'>num</span>total<span class='font-italic'>book]);</p><p>    printf("추가할 책의 저자 : ");    scanf("%s", auth<span class='font-italic'>name[</span>num<span class='font-italic'>total</span>book]);    printf("추가할 책의 출판사 : ");    scanf("%s", publ<span class='font-italic'>name[</span>num<span class='font-italic'>total</span>book]);    borrowed[<span class='font-italic'>num</span>total<span class='font-italic'>book] = 0; /</span> 빌려지지 않음<span class='font-italic'>/    printf("추가 완료! \n");    (</span>num<span class='font-italic'>total</span>book)++;    return 0;}/<span class='font-italic'> 책을 검색하는 함수 </span>/int search<span class='font-italic'>book(char (</span>book<span class='font-italic'>name)[30], char (</span>auth<span class='font-italic'>name)[30],                char (</span>publ<span class='font-italic'>name)[30], int num</span>total<span class='font-italic'>book){    int user</span>input; /<span class='font-italic'> 사용자의 입력을 받는다. </span>/    int i;    char user<span class='font-italic'>search[30];    printf("어느 것으로 검색 할 것인가요? \n");    printf("1. 책 제목 검색 \n");    printf("2. 지은이 검색 \n");    printf("3. 출판사 검색 \n");    scanf("%d", &user</span>input);    printf("검색할 단어를 입력해주세요 : ");    scanf("%s", user<span class='font-italic'>search);    printf("검색 결과 \n");    if(user</span>input == 1)    {        /<span class='font-italic'>        i 가 0 부터 num</span>total<span class='font-italic'>book 까지 가면서 각각의 책 제목을        사용자가 입력한 검색어와 비교하고 있다.        </span>/        for(i = 0;i < num<span class='font-italic'>total</span>book; i++)        {            if(compare(book<span class='font-italic'>name[i], user</span>search))            {                printf("번호 : %d // 책 이름 : %s // 지은이 : %s // 출판사 : %s \n",                    i, book<span class='font-italic'>name[i], auth</span>name[i], publ<span class='font-italic'>name[i] );            }        }    }    else if(user</span>input == 2)    {        /<span class='font-italic'>        i 가 0 부터 num</span>total<span class='font-italic'>book 까지 가면서 각각의 지은이 이름을        사용자가 입력한 검색어와 비교하고 있다.        </span>/        for(i = 0;i < num<span class='font-italic'>total</span>book; i++)        {            if(compare(auth<span class='font-italic'>name[i], user</span>search))            {                printf("번호 : %d // 책 이름 : %s // 지은이 : %s // 출판사 : %s \n",                    i, book<span class='font-italic'>name[i], auth</span>name[i], publ<span class='font-italic'>name[i] );            }        }    }    else if(user</span>input == 3)    {        /<span class='font-italic'>        i 가 0 부터 num</span>total<span class='font-italic'>book 까지 가면서 각각의 출판사를        사용자가 입력한 검색어와 비교하고 있다.        </span>/        for(i = 0;i < num<span class='font-italic'>total</span>book; i++)        {            if(compare(publ<span class='font-italic'>name[i], user</span>search))            {                printf("번호 : %d // 책 이름 : %s // 지은이 : %s // 출판사 : %s \n",                    i, book<span class='font-italic'>name[i], auth</span>name[i], publ<span class='font-italic'>name[i] );            }        }    }    return 0;}int borrow</span>book(int <span class='font-italic'>borrowed){    /</span> 사용자로 부터 책번호를 받을 변수<span class='font-italic'>/    int book</span>num;    printf("빌릴 책의 번호를 말해주세요 \n");    printf("책 번호 : ");    scanf("%d", &book<span class='font-italic'>num);    if(borrowed[book</span>num] == 1)    {        printf("이미 대출된 책입니다! \n");    }    else    {        printf("책이 성공적으로 대출되었습니다. \n");        borrowed[book<span class='font-italic'>num] = 1;    }    return 0;}int return</span>book(int <span class='font-italic'>borrowed){    /</span> 반납할 책의 번호 <span class='font-italic'>/    int num</span>book;    printf("반납할 책의 번호를 써주세요 \n");    printf("책 번호 : ");    scanf("%d", &num<span class='font-italic'>book);    if(borrowed[num</span>book] == 0)    {        printf("이미 반납되어 있는 상태입니다\n");    }    else    {        borrowed[num<span class='font-italic'>book] = 0;        printf("성공적으로 반납되었습니다\n");    }    return 0;}</p><pre class="chroma">

또한 당연하게도 `book_function.h` 의 모습은 아래와 같겠죠.
</pre><p>cpp</p><p>/<span class='font-italic'> book</span>function.h <span class='font-italic'>/int add</span>book(char (<span class='font-italic'>book</span>name)[30], char (<span class='font-italic'>auth</span>name)[30], char (<span class='font-italic'>publ</span>name)[30],             int <span class='font-italic'>borrowed, int </span>num<span class='font-italic'>total</span>book);int search<span class='font-italic'>book(char (</span>book<span class='font-italic'>name)[30], char (</span>auth<span class='font-italic'>name)[30],                char (</span>publ<span class='font-italic'>name)[30], int num</span>total<span class='font-italic'>book);int borrow</span>book(int <span class='font-italic'>borrowed);int return</span>book(int <span class='font-italic'>borrowed);</p><pre class="chroma">

이제 마지막으로 `main` 함수가 있는 `test.c` 를 살펴볼 차례 입니다.

`main` 함수에서는 `printf` 와 `scanf` 등과, `book_function` 에 정의되어 있는
                                                 함수들을 사용하고
                                                     있고 `compare` 함수는
                                                         사용하지 않으므로
                                                             다음과 같이만
                                                                 해주면 됩니다.
</pre><p>cpp</p><p>/<span class='font-italic'> test.c </span>/#include <stdio.h>#include "book<span class='font-italic'>function.h"int main (){    int user</span>choice; /<span class='font-italic'> 유저가 선택한 메뉴 </span>/    int num<span class='font-italic'>total</span>book = 0; /<span class='font-italic'> 현재 책의 수 </span>/    /<span class='font-italic'> 각각 책, 저자, 출판사를 저장할 배열 생성. 책의 최대 개수는 100 권</span>/    char book<span class='font-italic'>name[100][30], auth</span>name[100][30], publ<span class='font-italic'>name[100][30];    /</span> 빌렸는지 상태를 표시 <span class='font-italic'>/    int borrowed[100];    while (1)    {        printf("도서 관리 프로그램 \n");        printf("메뉴를 선택하세요 \n");        printf("1. 책을 새로 추가하기 \n");        printf("2. 책을 검색하기 \n");        printf("3. 책을 빌리기 \n");        printf("4. 책을 반납하기 \n");        printf("5. 프로그램 종료 \n");        printf("당신의 선택은 : ");        scanf("%d", &user</span>choice);        if(user<span class='font-italic'>choice == 1)        {            /</span> 책을 새로 추가하는 함수 호출 <span class='font-italic'>/            add</span>book(book<span class='font-italic'>name, auth</span>name, publ<span class='font-italic'>name, borrowed, &num</span>total<span class='font-italic'>book);        }        else if(user</span>choice == 2)        {            /<span class='font-italic'> 책을 검색하는 함수 호출 </span>/            search<span class='font-italic'>book(book</span>name, auth<span class='font-italic'>name, publ</span>name, num<span class='font-italic'>total</span>book);        }        else if(user<span class='font-italic'>choice == 3)        {            /</span> 책을 빌리는 함수 호출 <span class='font-italic'>/            borrow</span>book(borrowed);        }        else if(user<span class='font-italic'>choice == 4)        {            /</span> 책을 반납하는 함수 호출 <span class='font-italic'>/            return</span>book(borrowed);        }        else if(user<span class='font-italic'>choice == 5)        {            /</span> 프로그램을 종료한다. <span class='font-italic'>/            break;        }    }    return 0;}</p><pre class="chroma">

어때요
    ? 꽤 간단하지요
          .이 작업을 한 후 컴파일 후 실행하면 역시나 잘 작동됨을 알 수 있습니다
          .이렇게 여러분은 파일을 나누는 방법에 대해서 알게 되었습니다
          .이렇게 파일을 나누어서 처리하게 되면 상당히 체계적으로 프로그래밍을
              할 수 있는데 이렇게 하는 프로그래밍을 모듈화
              프로그래밍(modular programming) 이라고 합니다
          .즉 프로그램의 각 부분 부분을 나누어서 따로 처리 한다는 의미지요
          .

      우리는 여태까지 헤더 파일에는 함수의 선언 밖에 쓰지 않았지만 사실
      헤더파일에도 많은 것들이 올 수
      있습니다.이에 대해서는 다음 시간에 알아보도록 합시다
          .

      생각해 볼 문제


`1.` 위 도서 관리 프로그램을 구조체를 이용하여 만든 것이 있을 것입니다.([
          http:  // itguru.tistory.com/60](http://itguru.tistory.com/60)``
                 // 생각해 볼 문제 참조) 이 역시 위와 같이 파일로 쪼개 보세요.
</pre><p>warning</p><p>강좌를 보다가 조금이라도 궁금한 것이나 이상한 점이 있다면꼭 댓글을 남겨주시기 바랍니다. 그 외에도 강좌에 관련된 것이라면 어떠한 것도 질문해 주셔도 상관 없습니다. 생각해 볼 문제도 정 모르겠다면 댓글을 달아주세요.</p><p>현재 여러분이 보신 강좌는<<씹어먹는 C 언어 - <18 - 1. 파일 뽀개기 (헤더파일과 #include) >>> 입니다. 이번 강좌의모든 예제들의 코드를 보지 않고 짤 수준까지 강좌를 읽어 보시기 전까지 다음 강좌로 넘어가지 말아주세요</p><p><a href='http://itguru.tistory.com/notice/15'>다음 강좌 보러가기</a></p><p><span class='font-weight-bold'></p>