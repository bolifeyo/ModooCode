<pre class='warning'>이 레퍼런스의 모든 내용은 [http://www.cplusplus.com/reference/iostream/](http://www.cplusplus.com/reference/iostream/) 의 내용을 기초로 하여, Microsoft 의 MSDN 과 Bjarne Stroustrup 의 책 <<The C++ Programming Language>> 를 참고로 하여 만들어졌습니다. 이는 또한 저의 개인적인 C++ 능력 향상과 [저의 모토인 '지식전파'](http://itguru.tistory.com/notice/107) 를 위해 모든 이들에게 공개하도록 하겠습니다.
</pre><pre class='info'>아직 C++ 에 친숙하지 않다면 [씹어먹는 C++ 강좌](http://itguru.tistory.com/135)는 어때요?
</pre><p>ios::exceptions</p><pre class="chroma"><span class="n">iostate</span> <span class="nf">exceptions</span><span class="p">(</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
<span class="kt">void</span> <span class="nf">exceptions</span><span class="p">(</span><span class="n">iostate</span> <span class="n">except</span><span class="p">)</span><span class="p">;</span>
</pre><p>예외 마스크(exception <code class='inline-code'>mask)</code> 를 얻거나 설정한다.</p><p>첫번째 형태의 함수는 현재 스트림의 예외 마스크를 리턴한다.</p><p>두번째 형태의 함수는 새로운 예외 마스크를 설정하고 <code class='inline-code'>clear(rdstate())</code> 를 호출한다.</p><p>  예외 마스크는 모든 스트림 객체가 각각 가지고 있는 데이터로,예외마스크에 해당하는 상태 플래그가 설정 되었을 시 반드시 예외를 <code class='inline-code'>throw</code><span class='font-weight-bold'> 해야만 한다. 이 마스크는 ios<span class='font-italic'>base::iostate 타입의 객체로, 아래와 같은 멤버 상수들의 조합으로 값이 결정된다.</p><p>플래그 값의미<code class='inline-code'>eofbit</code>스트림으로부터 추출 작업(extracting operation)을 수행 중<code class='inline-code'> End</code> – <code class='inline-code'>Of</code> – <code class='inline-code'> File</code>에 도달하는 경우<code class='inline-code'>failbit</code>마지막 입력 작업이 자체의 내부 오류 때문에 실패하였을 <span class='font-weight-bold'> 경우<code class='inline-code'>badbit</code>스트림 버퍼의 입출력 작업이 실패하여 발생한 오류<code class='inline-code'>goodbit</code>오류가 없다</p><p>  한 개 이상의 상태 플래그를 <code class='inline-code'>OR</code> 연산자로 조합하여 하나의 비트 마스크(bit mask)를 만들 수 있게 된다. 기본값로 스트림 객체는 <code class='inline-code'>goodbit</code> 예외 마스크를 가지고 있는데, 이 말은 어떠한 상태 플래그가 설정 되어도 예외를 던지지 않는다는 의미 이다.</p><h3><p>  인자</p></h3><p><code class='inline-code'>except</code></p><p>  ios<span class='font-italic'>base::iostate 형의 비트 마스크 값으로 오류 상태 플래그 비트들(badbit, <code class='inline-code'>eofbit, failbit)</code> 의 조합에 의해 설정된다.</p><h3><p>  리턴값</p></h3><p>  ios<span class='font-italic'>base::iostate 타입의 비트 마스크로 이 함수를 호출하기 직전의 예외 마스크를 리턴한다.</p><h3><p>  실행 예제</p></h3><pre class="chroma">
<span class="cm">/*사용자가 file 의 exception 에 failbit 와 badbit 를 등록하였으므로 이들 비트가
</span><span class="cm"> * 설정될 때 예외를 throw 하게 된다. 나의 경우 test.txt 파일에 내용이 존재하지
</span><span class="cm"> * 않았으므로failbit 가 설정되어서 예외가 throw 된 것이다.*/</span>
<span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;iostream&gt; #include &lt;fstream&gt; using namespace std;</span><span class="cp">
</span><span class="cp"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">ifstream</span> <span class="n">file</span><span class="p">;</span>
  <span class="n">file</span><span class="p">.</span><span class="n">exceptions</span><span class="p">(</span><span class="n">ifstream</span><span class="o">:</span><span class="o">:</span><span class="n">failbit</span> <span class="o">|</span> <span class="n">ifstream</span><span class="o">:</span><span class="o">:</span><span class="n">badbit</span><span class="p">)</span><span class="p">;</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="n">file</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">test.txt</span><span class="s">&#34;</span><span class="p">)</span><span class="p">;</span>
    <span class="n">file</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="p">)</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ifstream</span><span class="o">:</span><span class="o">:</span><span class="n">failure</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;</span><span class="o">&lt;</span> <span class="sa"></span><span class="s">&#34;</span><span class="s">Exception opening/reading file</span><span class="s">&#34;</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">file</span><span class="p">.</span><span class="n">close</span><span class="p">(</span><span class="p">)</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><p>실행 결과</p><img class='content-img' src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile24.uf.tistory.com%2Fimage%2F145ED6344E4BEA8A334FD9' alt=''><h3><p>  템플릿 멤버 정의</p></h3><pre class="chroma"><span class="c1">// ( basic_ios&lt;charT,traits&gt; )
</span><span class="c1"></span><span class="n">iostate</span> <span class="nf">exceptions</span><span class="p">(</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
<span class="n">iostate</span> <span class="nf">exceptions</span><span class="p">(</span><span class="n">iostate</span> <span class="n">except</span><span class="p">)</span><span class="p">;</span>
</pre><h3><p>  연관된 함수</p></h3><ul><li><p>  <a href='http://itguru.tistory.com/171'>ios::rdstate</a>  :  오류 상태 플래그를 얻는다.</p></li></ul>