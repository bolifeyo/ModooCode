<pre class='warning'>아직 C 언어와 친숙하지 않다면, [씹어먹는 C 언어 강좌](http://itguru.tistory.com/notice/15)를 보는 것이 어떻까요?
</pre><p><code class='inline-code'>fflush</code></p><pre class='info'>#include <stdio.h>  // C++ 에서는 <cstdio>

int fflush(FILE* stream);
</pre><p>스트림을 비운다(flush)만일 함수의 인자로 전달된 스트림이 쓰기 가능하고, 마지막 입출력 작업이 출력 작업이였다면 출력 버퍼에 쓰이지 않고 남아 있던 데이터들은 모두 파일에 쓰이게 된다.만일 함수의 인자로 전달된 스트림이 읽기 가능하고 마지막 입출력 작업이 입력 작업이였다면, 이 함수가 어떠한 작업을 할지에 대해선 라이브러리에 따라 다르다. 몇몇의 라이브러리에선 입력 버퍼를 비워버리지만(이 때 비운다는 것은 버퍼에 있는 데이터들을 모두 삭제한다는 뜻이다) 이는 표준으로 정해진 것이아니다</p><h3><p>  인자</p></h3><p><code class='inline-code'>stream</code></p><p>작업을 수행할 <code class='inline-code'>buffered</code> (스트림의 상태 중 하나로 <code class='inline-code'>fully buffered</code> 와 <code class='inline-code'>line buffered</code> 를 일컫는다. 자세한 내용은 <a href='http://itguru.tistory.com/34'>stdio.h</a><span class='font-weight-bold'> 를 참조) 스트림의 파일 객체를 가리키는 포인터.</p><h3><p>  리턴값</p></h3><p><code class='inline-code'>0</code> 이 리턴되면 성공적으로 작동되었음을 의미한다 0 이 리턴되면 성공적으로 작동되었음을 의미한다.오류가 발생하면 <code class='inline-code'>EOF</code> 가 리턴되고 오류 표시자가 설정된다 ( <a href='http://itguru.tistory.com/51'>feof</a><span class='font-weight-bold'> 참조)</p><h3><p>  실행 예제</p></h3><pre class="chroma">
<span class="cm">/*example.txt 파일을 &#34;r+&#34; 로 오픈하여 &#34;test&#34; 를 쓴 뒤 pFile 버퍼를 비우고 다시
</span><span class="cm"> * 파일로 부터 읽어온다.이 예제는
</span><span class="cm"> * http://www.cplusplus.com/reference/clibrary/cstdio/fflush/에서
</span><span class="cm"> * 가져왔습니다.*/</span>

<span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;stdio.h&gt;char mybuffer[80];int main(){ FILE * pFile; pFile = fopen (&#34;example.txt&#34;,&#34;r+&#34;); if (pFile == NULL) perror (&#34;Error opening file&#34;); else { fputs (&#34;test&#34;,pFile); fflush(pFile);</span><span class="cp">
</span><span class="cp"></span><span class="n">fgets</span><span class="p">(</span><span class="n">mybuffer</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="n">pFile</span><span class="p">)</span><span class="p">;</span>
<span class="n">puts</span><span class="p">(</span><span class="n">mybuffer</span><span class="p">)</span><span class="p">;</span>
<span class="n">fclose</span><span class="p">(</span><span class="n">pFile</span><span class="p">)</span><span class="p">;</span>
<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">}</span>
</pre><p>실행 결과</p><img src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile10.uf.tistory.com%2Fimage%2F202412114B725620428B8C' alt=''><p>파일에 쓰여진 모습</p><img src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile25.uf.tistory.com%2Fimage%2F1560F8134B725637318657' alt=''><p>위 소스 코드가 어떻게 작동하는지 잠깐 설명하자면, 파일을 "r+" 형식으로 오픈했다면 한 개의 스트림을 이용하여 파일 쓰기와 읽기를 동시에 수행할 수 있다. 다만, C 표준에 따르면 "r+" 형식으로 오픈한 파일에서 파일을 읽은 다음에 쓰기를 하려면 파일 위치 표시자 설정 함수 ( <a href='http://itguru.tistory.com/72'>fseek</a><code class='inline-code'>,</code> <a href='http://itguru.tistory.com/73'>fsetpos</a><code class='inline-code'>,</code> <a href='http://itguru.tistory.com/75'>rewind</a><code class='inline-code'>)</code> 들을 호출하거나 <code class='inline-code'>fflush</code> 함수를 호출해야 한다. 그렇지 않을 경우 오류가 발생하게 된다. 마찬가지로 파일을 쓴 다음에 읽기를 하려면 위와 동일한 작업을 해야 한다. 위 예제의 경우 마찬가지로 파일을 "r+" 형식으로 오픈하였는데, <a href='http://itguru.tistory.com/40'>fputs</a><span class='font-weight-bold'> 로 "test" 를 쓴 후, 그 다음에 <a href='http://itguru.tistory.com/38'>fgets</a></span> 로 파일에서 입력 받는다. 따라서 중간에 파일 위치 표시자 설정 함수를 호출하거나 <code class='inline-code'>fflush</code> 함수를 호출해야 하는데 이 경우 <code class='inline-code'>fflush</code> 함수를 호출하였다.참고로, 왜 실행 화면에 <code class='inline-code'>example.txt</code> 로 부터 입력받은 것이 아무것도 없냐면, 파일 위치 표시자가 파일에서 <code class='inline-code'>test</code> 문자열 다음 위치를 가리키고 있기 때문이다. (참고적으로 개행 문자가 출력된 것처럼 보이는데 사실 <a href='http://itguru.tistory.com/48'>puts</a><span class='font-weight-bold'> 함수는 출력할 문자열 뒤에 자동으로 개행 문자를 붙여서 출력하기 때문에 실질적으로 출력된 것은 아무것도 없다)</p><h3><p>  연관된 함수</p></h3><ul><li><p>  <a href='http://itguru.tistory.com/54'>fclose</a>  :  파일을 닫는다.</p></li><li><p>  <a href='http://itguru.tistory.com/58'>fopen</a>   : 파일을 연다.</p></li><li><p>  <a href='http://itguru.tistory.com/61'>setbuf</a>  : 스트림 버퍼를 지정한다.</p></li><li><p>  <a href='http://itguru.tistory.com/62'>setvbuf</a>  :  스트림 버퍼링 모드를 설정한다.</p></li></ul>