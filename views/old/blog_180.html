<pre class='warning'>이 레퍼런스의 모든 내용은 [http://www.cplusplus.com/reference/iostream/](http://www.cplusplus.com/reference/iostream/) 의 내용을 기초로 하여, Microsoft 의 MSDN 과 Bjarne Stroustrup 의 책 <<The C++ Programming Language>> 를 참고로 하여 만들어졌습니다. 이는 또한 저의 개인적인 C++ 능력 향상과 ' [저의 모토인 지식 전파](http://itguru.tistory.com/notice/107)'를 위해 모든 이들에게 공개하도록 하겠습니다.
</pre><pre class='info'>아직 C++ 에 친숙하지 않다면 [씹어먹는 C++ 강좌](http://itguru.tistory.com/135)는 어때요?
</pre><p>ios::clear</p><pre class='info'>void clear(iostate state = goodbit);
</pre><p>오류 상태 플래그를 설정한다.오류 상태 플래그를 새로운 값으로 설정한다. 참고로 이와 유사한 동작을 하는 <a href='http://itguru.tistory.com/179'>ios::setstate</a><span class='font-weight-bold'> 의 경우, 이전의 오류 상태 플래그를 보존하면서 설정하지만, ios::clear 의 경우 이전의 오류 상태 플래그 값을 보존하지 않는다.</p><p>만일 인자를 넣어주지 않는다면 (혹은 인자로 <code class='inline-code'>goodbit</code> 을 전달하면) 모든 오류 상태 플래그는 초기화된다.</p><p>현재의 오류 상태 플래그는 <a href='http://itguru.tistory.com/171'>ios::rdstate</a><span class='font-weight-bold'> 함수로 얻을 수 있다.</p><h3><p>  인자</p></h3><p><code class='inline-code'>state</code></p><p>새롭게 바꿀 ios<span class='font-italic'>base::iostate 타입의 객체로 아래의 오류 상태 멤버 상수들의 조합 (비트 <code class='inline-code'>OR</code> 연산) 으로 구성된다.</p><p>플래그 값의미<code class='inline-code'>eofbit</code>스트림으로부터 추출 작업(extracting operation)을 수행 중<code class='inline-code'> End</code> – <code class='inline-code'>Of</code> – <code class='inline-code'> File</code>에 도달하는 경우<code class='inline-code'>failbit</code>마지막 입력 작업이 자체의 내부 오류 때문에 실패하였을 <span class='font-weight-bold'> 경우<code class='inline-code'>badbit</code>스트림 버퍼의 입출력 작업이 실패하여 발생한 오류<code class='inline-code'>goodbit</code>오류가 없다</p><p>만일 인자로 아무 것도 전달하지 않는다면 디폴트 인자로 <code class='inline-code'>goodbit</code> 가 전달된다.</p><h3><p>  리턴값</p></h3><p>없음</p><h3><p>  실행 예제</p></h3><pre class="chroma"><span class="cm">/*
</span><span class="cm">
</span><span class="cm">test.txt 를 in 형식으로 open 하였으므로 읽기만 가능한다. 따라서 쓰기를 하면
</span><span class="cm">오류가 발생하므로 myfile.fail() 이 true 가 되고 입출력 작업은 중지되지만 오류
</span><span class="cm">상태 플래그를 초기화함으로써 나중에 getline 을 수행할 수 있게 된다.
</span><span class="cm">
</span><span class="cm">이 예제는
</span><span class="cm">http://www.cplusplus.com/reference/iostream/ios/clear/
</span><span class="cm">에서 가져왔습니다.
</span><span class="cm">
</span><span class="cm">*/</span>
<span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;fstream&gt;</span><span class="cp">
</span><span class="cp"></span><span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">char</span> <span class="n">buffer</span><span class="p">[</span><span class="mi">80</span><span class="p">]</span><span class="p">;</span>
  <span class="n">fstream</span> <span class="n">myfile</span><span class="p">;</span>

  <span class="n">myfile</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="sa"></span><span class="s">&#34;</span><span class="s">test.txt</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">fstream</span><span class="o">:</span><span class="o">:</span><span class="n">in</span><span class="p">)</span><span class="p">;</span>

  <span class="n">myfile</span> <span class="o">&lt;</span><span class="o">&lt;</span> <span class="sa"></span><span class="s">&#34;</span><span class="s">test</span><span class="s">&#34;</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">myfile</span><span class="p">.</span><span class="n">fail</span><span class="p">(</span><span class="p">)</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;</span><span class="o">&lt;</span> <span class="sa"></span><span class="s">&#34;</span><span class="s">Error writing to test.txt</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">;</span>
    <span class="n">myfile</span><span class="p">.</span><span class="n">clear</span><span class="p">(</span><span class="p">)</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="n">myfile</span><span class="p">.</span><span class="n">getline</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="mi">80</span><span class="p">)</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;</span><span class="o">&lt;</span> <span class="n">buffer</span> <span class="o">&lt;</span><span class="o">&lt;</span> <span class="sa"></span><span class="s">&#34;</span><span class="s"> successfully read from file.</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre><p>실행 결과</p><img class='content-img' src='http://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile22.uf.tistory.com%2Fimage%2F182B374B4F6E75AF1F5F53' alt=''><h3><p>  템플릿 멤버 정의</p></h3><pre class="chroma"><span class="p">(</span><span class="n">basic_ios</span><span class="o">&lt;</span><span class="n">charT</span><span class="p">,</span> <span class="n">traits</span><span class="o">&gt;</span><span class="p">)</span>

    <span class="kt">void</span> <span class="n">clear</span><span class="p">(</span><span class="n">iostate</span> <span class="n">state</span> <span class="o">=</span> <span class="n">goodbit</span><span class="p">)</span><span class="p">;</span>
</pre><h3><p>  연관된 함수</p></h3><ul><li><p>  <a href='http://itguru.tistory.com/165'>ios::fail</a>  :  <code class='inline-code'>failbit</code> 이나 <code class='inline-code'>badbit</code> 이 설정되어 있는지 확인한다.</p></li><li><p>  <a href='http://itguru.tistory.com/166'>ios::bad</a>  :  <code class='inline-code'>badbit</code> 이 설정되어 있는지 확인한다.</p></li><li><p>  <a href='http://itguru.tistory.com/164'>ios::good</a><span class='font-weight-bold'> :  스트림에 어떠한 오류 플래그도 설정되지 않았는지 확인한다.</p></li><li><p>  <a href='http://itguru.tistory.com/167'>ios::eof</a>  :  <code class='inline-code'>eofbit</code> 이 설정되어 있는지 확인한다.</p></li><li><p>  <a href='http://itguru.tistory.com/171'>ios::rdstate</a>  :  오류 상태 플래그를 얻는다.</p></li></ul>